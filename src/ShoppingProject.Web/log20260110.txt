2026-01-10 11:04:29.453 +03:00 [INF] Applying database migrations...
2026-01-10 11:04:29.812 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-10 11:04:29.829 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-10 11:04:29.832 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-10 08:04:29.83192+00:00');
SELECT changes();
2026-01-10 11:04:29.858 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-10 11:04:29.863 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-10 11:04:29.865 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-10 11:04:29.869 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-10 11:04:29.871 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-10 11:04:29.872 +03:00 [INF] Database migrations applied successfully
2026-01-10 11:04:29.873 +03:00 [INF] Seeding database...
2026-01-10 11:04:29.976 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-10 11:04:29.979 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-10 11:04:29.981 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-10 11:04:29.982 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-10 11:04:30.025 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-10 11:04:30.059 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:04:30.078 +03:00 [INF] Database seeded successfully
2026-01-10 11:04:30.085 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-10 11:04:30.338 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-10 11:04:30.338 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-10 11:04:30.339 +03:00 [INF] Hosting environment: Development
2026-01-10 11:04:30.339 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-10 11:04:30.881 +03:00 [INF] Request starting HTTP/2 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 101
2026-01-10 11:04:30.923 +03:00 [INF] Request finished HTTP/2 POST https://localhost:57679/auth/token - 404 0 null 42.2384ms
2026-01-10 11:04:30.926 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/auth/token, Response status code: 404
2026-01-10 11:04:34.359 +03:00 [INF] Request starting HTTP/2 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 101
2026-01-10 11:04:34.363 +03:00 [INF] Request finished HTTP/2 POST https://localhost:57679/auth/token - 404 0 null 3.1748ms
2026-01-10 11:04:34.363 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/auth/token, Response status code: 404
2026-01-10 11:04:34.368 +03:00 [ERR] Unexpected exception in TimingPipeFlusher.FlushAsync.
System.IO.IOException: The encryption operation failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (14): Bad address
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.ConcurrentPipeWriter.FlushAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.TimingPipeFlusher.FlushAsync(MinDataRate minRate, Int64 count, IHttpOutputAborter outputAborter, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2FrameWriter.WriteGoAwayAsync(Int32 lastStreamId, Http2ErrorCode errorCode)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecuteFromThreadPool(Thread threadPoolThread)
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
   at System.Threading.Thread.StartCallback()
--- End of stack trace from previous location ---
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.ConcurrentPipeWriter.FlushAsyncAwaited(ValueTask`1 flushTask, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.TimingPipeFlusher.TimeFlushAsyncAwaited(ValueTask`1 pipeFlushTask, MinDataRate minRate, IHttpOutputAborter outputAborter, CancellationToken cancellationToken)
2026-01-10 11:04:34.371 +03:00 [ERR] Unhandled exception while processing 0HNIG3RH3QT38.
System.IO.IOException: The encryption operation failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (14): Bad address
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetExistingTaskResult(Task`1 task, TResult result)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.HttpConnection.ProcessRequestsAsync[TContext](IHttpApplication`1 httpApplication)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetExistingTaskResult(Task`1 task, TResult result)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)
   at System.Threading.Tasks.UnwrapPromise`1.TrySetFromTask(Task task, Boolean lookForOce)
   at System.Threading.Tasks.UnwrapPromise`1.Invoke(Task completingTask)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetExistingTaskResult(Task`1 task, TResult result)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2FrameWriter.WriteToOutputPipe()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
   at System.Threading.Thread.StartCallback()
--- End of stack trace from previous location ---
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.KestrelConnection`1.ExecuteAsync()
2026-01-10 11:05:58.416 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 115
2026-01-10 11:05:58.421 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 404 0 null 5.7793ms
2026-01-10 11:05:58.421 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/auth/token, Response status code: 404
2026-01-10 11:05:58.986 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 115
2026-01-10 11:05:58.987 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 404 0 null 0.8024ms
2026-01-10 11:05:58.987 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/auth/token, Response status code: 404
2026-01-10 11:06:54.413 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 115
2026-01-10 11:06:54.422 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-10 11:06:54.436 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(ShoppingProject.UseCases.Users.Login.LoginUserCommand) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 11:06:54.446 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2026-01-10 11:06:54.458 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 20.3202ms
2026-01-10 11:06:54.458 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-10 11:06:54.458 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 415 null application/problem+json; charset=utf-8 44.84ms
2026-01-10 11:07:05.213 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 115
2026-01-10 11:07:05.219 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-10 11:07:05.220 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(ShoppingProject.UseCases.Users.Login.LoginUserCommand) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 11:07:05.221 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2026-01-10 11:07:05.222 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 1.8871ms
2026-01-10 11:07:05.222 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-10 11:07:05.222 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 415 null application/problem+json; charset=utf-8 8.4212ms
2026-01-10 11:07:06.156 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 115
2026-01-10 11:07:06.158 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-10 11:07:06.158 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(ShoppingProject.UseCases.Users.Login.LoginUserCommand) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 11:07:06.160 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2026-01-10 11:07:06.160 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 1.9294ms
2026-01-10 11:07:06.160 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-10 11:07:06.160 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 415 null application/problem+json; charset=utf-8 4.2132ms
2026-01-10 11:08:45.088 +03:00 [INF] Application is shutting down...
2026-01-10 11:08:55.374 +03:00 [INF] Applying database migrations...
2026-01-10 11:08:55.805 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-10 11:08:55.822 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-10 11:08:55.826 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-10 08:08:55.82488+00:00');
SELECT changes();
2026-01-10 11:08:55.850 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-10 11:08:55.856 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-10 11:08:55.858 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-10 11:08:55.861 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-10 11:08:55.861 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-10 11:08:55.863 +03:00 [INF] Database migrations applied successfully
2026-01-10 11:08:55.864 +03:00 [INF] Seeding database...
2026-01-10 11:08:55.963 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-10 11:08:55.966 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-10 11:08:55.968 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-10 11:08:55.969 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-10 11:08:56.008 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-10 11:08:56.037 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:08:56.055 +03:00 [INF] Database seeded successfully
2026-01-10 11:08:56.061 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-10 11:08:56.306 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-10 11:08:56.306 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-10 11:08:56.306 +03:00 [INF] Hosting environment: Development
2026-01-10 11:08:56.306 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-10 11:08:57.000 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 115
2026-01-10 11:08:57.030 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:08:57.033 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 499 null null 34.064ms
2026-01-10 11:08:57.738 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 115
2026-01-10 11:08:57.741 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:08:57.748 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:08:57.802 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:08:57.809 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:08:57.816 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:08:57.816 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:08:57.816 +03:00 [INF] Property Password : Password123!
2026-01-10 11:08:57.824 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:08:57.840 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 23 ms
2026-01-10 11:08:57.855 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 499 null null 117.1815ms
2026-01-10 11:08:57.856 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/auth/token, Response status code: 499
2026-01-10 11:09:02.231 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 115
2026-01-10 11:09:02.233 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:09:02.235 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:09:02.243 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:09:02.246 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:09:02.247 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:09:02.247 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:09:02.247 +03:00 [INF] Property Password : Password123!
2026-01-10 11:09:02.248 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:09:02.250 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 2 ms
2026-01-10 11:09:02.252 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 404 0 null 20.3378ms
2026-01-10 11:09:02.252 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/auth/token, Response status code: 404
2026-01-10 11:09:03.546 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 115
2026-01-10 11:09:03.546 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:09:03.547 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:09:03.551 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:09:03.555 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:09:03.561 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:09:03.561 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:09:03.561 +03:00 [INF] Property Password : Password123!
2026-01-10 11:09:03.562 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:09:03.565 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 3 ms
2026-01-10 11:09:03.568 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 404 0 null 22.1794ms
2026-01-10 11:09:03.568 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/auth/token, Response status code: 404
2026-01-10 11:09:53.993 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 115
2026-01-10 11:09:53.994 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:09:53.994 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:09:53.997 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:09:53.997 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:09:53.998 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:09:53.998 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:09:53.998 +03:00 [INF] Property Password : Password123!
2026-01-10 11:09:53.998 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:09:54.002 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 4 ms
2026-01-10 11:09:54.003 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 404 0 null 9.6911ms
2026-01-10 11:09:54.003 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/auth/token, Response status code: 404
2026-01-10 11:09:58.563 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:09:58.565 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 404 0 null 2.2702ms
2026-01-10 11:09:58.565 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/connect/token, Response status code: 404
2026-01-10 11:09:59.522 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:09:59.523 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 404 0 null 0.896ms
2026-01-10 11:09:59.523 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/connect/token, Response status code: 404
2026-01-10 11:12:40.803 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 115
2026-01-10 11:12:40.811 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:12:40.812 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:12:40.814 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:12:40.814 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:12:40.814 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:12:40.814 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:12:40.814 +03:00 [INF] Property Password : Password123!
2026-01-10 11:12:40.815 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:12:40.818 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 3 ms
2026-01-10 11:12:40.819 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-10 11:12:40.832 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(ShoppingProject.UseCases.Users.Login.LoginUserCommand) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 11:12:40.839 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2026-01-10 11:12:40.851 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 17.3401ms
2026-01-10 11:12:40.851 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-10 11:12:40.851 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 415 null application/problem+json; charset=utf-8 48.6973ms
2026-01-10 11:14:14.555 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 115
2026-01-10 11:14:14.557 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:14:14.557 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:14:14.559 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:14:14.559 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:14:14.560 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:14:14.560 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:14:14.560 +03:00 [INF] Property Password : Password123!
2026-01-10 11:14:14.560 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:14:14.564 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 4 ms
2026-01-10 11:14:14.564 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-10 11:14:14.572 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 11:14:14.576 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-10 11:14:14.578 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkResult in 0.294ms.
2026-01-10 11:14:14.581 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2026-01-10 11:14:14.581 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 8.3702ms
2026-01-10 11:14:14.581 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-10 11:14:14.582 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 0 null 26.5048ms
2026-01-10 11:15:33.197 +03:00 [INF] Application is shutting down...
2026-01-10 11:22:13.158 +03:00 [INF] Applying database migrations...
2026-01-10 11:22:13.552 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-10 11:22:13.572 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-10 11:22:13.575 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-10 08:22:13.574763+00:00');
SELECT changes();
2026-01-10 11:22:13.601 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-10 11:22:13.607 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-10 11:22:13.610 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-10 11:22:13.613 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-10 11:22:13.614 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-10 11:22:13.615 +03:00 [INF] Database migrations applied successfully
2026-01-10 11:22:13.616 +03:00 [INF] Seeding database...
2026-01-10 11:22:13.724 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-10 11:22:13.728 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-10 11:22:13.729 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-10 11:22:13.730 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-10 11:22:13.774 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-10 11:22:13.806 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:22:13.824 +03:00 [INF] Database seeded successfully
2026-01-10 11:22:13.830 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-10 11:22:14.115 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-10 11:22:14.115 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-10 11:22:14.115 +03:00 [INF] Hosting environment: Development
2026-01-10 11:22:14.115 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-10 11:22:16.389 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:22:16.426 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:22:16.433 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:22:16.480 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:22:16.486 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:22:16.492 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:22:16.493 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:22:16.493 +03:00 [INF] Property Password : Password123!
2026-01-10 11:22:16.500 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:22:16.515 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 21 ms
2026-01-10 11:22:16.530 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 404 0 null 142.2375ms
2026-01-10 11:22:16.532 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/connect/token, Response status code: 404
2026-01-10 11:22:17.805 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:22:17.807 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:22:17.808 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:22:17.816 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:22:17.820 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:22:17.820 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:22:17.820 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:22:17.821 +03:00 [INF] Property Password : Password123!
2026-01-10 11:22:17.821 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:22:17.824 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 3 ms
2026-01-10 11:22:17.826 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 404 0 null 20.4859ms
2026-01-10 11:22:17.826 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/connect/token, Response status code: 404
2026-01-10 11:22:18.401 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:22:18.406 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:22:18.407 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:22:18.411 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:22:18.416 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:22:18.421 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:22:18.421 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:22:18.421 +03:00 [INF] Property Password : Password123!
2026-01-10 11:22:18.422 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:22:18.424 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 3 ms
2026-01-10 11:22:18.427 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 404 0 null 25.1497ms
2026-01-10 11:22:18.427 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/connect/token, Response status code: 404
2026-01-10 11:28:12.508 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:28:12.510 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:28:12.510 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:28:12.513 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:28:12.513 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:28:12.513 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:28:12.513 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:28:12.513 +03:00 [INF] Property Password : Password123!
2026-01-10 11:28:12.514 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:28:12.518 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 4 ms
2026-01-10 11:28:12.519 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 404 0 null 10.7274ms
2026-01-10 11:28:12.519 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/connect/token, Response status code: 404
2026-01-10 11:28:13.539 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:28:13.541 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:28:13.542 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:28:13.543 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:28:13.544 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:28:13.544 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:28:13.544 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:28:13.544 +03:00 [INF] Property Password : Password123!
2026-01-10 11:28:13.545 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:28:13.549 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 4 ms
2026-01-10 11:28:13.550 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 404 0 null 10.2508ms
2026-01-10 11:28:13.550 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/connect/token, Response status code: 404
2026-01-10 11:28:18.654 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:28:18.655 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:28:18.655 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:28:18.657 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:28:18.658 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:28:18.658 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:28:18.658 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:28:18.658 +03:00 [INF] Property Password : Password123!
2026-01-10 11:28:18.659 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:28:18.663 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 4 ms
2026-01-10 11:28:18.663 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 404 0 null 9.0213ms
2026-01-10 11:28:18.663 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/connect/token, Response status code: 404
2026-01-10 11:28:19.289 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:28:19.290 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:28:19.290 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:28:19.292 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:28:19.292 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:28:19.293 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:28:19.293 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:28:19.293 +03:00 [INF] Property Password : Password123!
2026-01-10 11:28:19.293 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:28:19.297 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 4 ms
2026-01-10 11:28:19.298 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 404 0 null 8.6822ms
2026-01-10 11:28:19.298 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/connect/token, Response status code: 404
2026-01-10 11:28:19.625 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:28:19.625 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:28:19.625 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:28:19.627 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:28:19.628 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:28:19.628 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:28:19.628 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:28:19.628 +03:00 [INF] Property Password : Password123!
2026-01-10 11:28:19.628 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:28:19.632 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 4 ms
2026-01-10 11:28:19.633 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 404 0 null 7.8812ms
2026-01-10 11:28:19.633 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/connect/token, Response status code: 404
2026-01-10 11:31:34.049 +03:00 [INF] Application is shutting down...
2026-01-10 11:31:39.459 +03:00 [INF] Applying database migrations...
2026-01-10 11:31:39.796 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-10 11:31:39.813 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-10 11:31:39.816 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-10 08:31:39.815675+00:00');
SELECT changes();
2026-01-10 11:31:39.840 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-10 11:31:39.845 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-10 11:31:39.847 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-10 11:31:39.850 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-10 11:31:39.851 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-10 11:31:39.852 +03:00 [INF] Database migrations applied successfully
2026-01-10 11:31:39.853 +03:00 [INF] Seeding database...
2026-01-10 11:31:39.950 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-10 11:31:39.953 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-10 11:31:39.954 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-10 11:31:39.955 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-10 11:31:39.994 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-10 11:31:40.073 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:31:40.095 +03:00 [INF] Database seeded successfully
2026-01-10 11:31:40.101 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-10 11:31:40.351 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-10 11:31:40.351 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-10 11:31:40.351 +03:00 [INF] Hosting environment: Development
2026-01-10 11:31:40.351 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-10 11:31:44.265 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:31:44.298 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:31:44.304 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:31:44.354 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:31:44.360 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:31:44.366 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:31:44.367 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:31:44.367 +03:00 [INF] Property Password : Password123!
2026-01-10 11:31:44.374 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:31:44.388 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 20 ms
2026-01-10 11:31:44.438 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:31:44.444 +03:00 [INF] An ad hoc authorization was automatically created and associated with an unknown application: 52152ff1-9541-47c9-8433-4322d6a09581.
2026-01-10 11:31:44.471 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:31:44.512 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:31:44.532 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:31:44.549 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:31:44.552 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4575 application/json;charset=UTF-8 287.3942ms
2026-01-10 11:31:58.652 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/json 90
2026-01-10 11:31:58.679 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 404 0 null 26.549ms
2026-01-10 11:31:58.679 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/auth/token, Response status code: 404
2026-01-10 11:32:26.787 +03:00 [INF] Application is shutting down...
2026-01-10 11:32:29.294 +03:00 [INF] Applying database migrations...
2026-01-10 11:32:29.636 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-10 11:32:29.651 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-10 11:32:29.654 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-10 08:32:29.653765+00:00');
SELECT changes();
2026-01-10 11:32:29.678 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-10 11:32:29.683 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-10 11:32:29.685 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-10 11:32:29.688 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-10 11:32:29.689 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-10 11:32:29.690 +03:00 [INF] Database migrations applied successfully
2026-01-10 11:32:29.691 +03:00 [INF] Seeding database...
2026-01-10 11:32:29.786 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-10 11:32:29.790 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-10 11:32:29.791 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-10 11:32:29.792 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-10 11:32:29.832 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-10 11:32:29.861 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:32:29.878 +03:00 [INF] Database seeded successfully
2026-01-10 11:32:29.885 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-10 11:32:30.152 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-10 11:32:30.152 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-10 11:32:30.152 +03:00 [INF] Hosting environment: Development
2026-01-10 11:32:30.152 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-10 11:32:33.172 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:32:33.203 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:32:33.210 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:32:33.258 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:32:33.264 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:32:33.270 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:32:33.270 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:32:33.270 +03:00 [INF] Property Password : Password123!
2026-01-10 11:32:33.277 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:32:33.291 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 20 ms
2026-01-10 11:32:33.306 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 404 0 null 134.8782ms
2026-01-10 11:32:33.308 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/connect/token, Response status code: 404
2026-01-10 11:32:34.429 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:32:34.433 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:32:34.434 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:32:34.445 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:32:34.450 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:32:34.451 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:32:34.451 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:32:34.451 +03:00 [INF] Property Password : Password123!
2026-01-10 11:32:34.452 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:32:34.455 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 3 ms
2026-01-10 11:32:34.457 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 404 0 null 27.5605ms
2026-01-10 11:32:34.457 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/connect/token, Response status code: 404
2026-01-10 11:32:35.374 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:32:35.379 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:32:35.381 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:32:35.384 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:32:35.388 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:32:35.393 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:32:35.393 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:32:35.393 +03:00 [INF] Property Password : Password123!
2026-01-10 11:32:35.394 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:32:35.395 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 2 ms
2026-01-10 11:32:35.398 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 404 0 null 23.4407ms
2026-01-10 11:32:35.398 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/connect/token, Response status code: 404
2026-01-10 11:32:48.460 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:32:48.461 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:32:48.461 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:32:48.464 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:32:48.464 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:32:48.464 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:32:48.464 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:32:48.465 +03:00 [INF] Property Password : Password123!
2026-01-10 11:32:48.465 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:32:48.469 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 4 ms
2026-01-10 11:32:48.470 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 404 0 null 9.8215ms
2026-01-10 11:32:48.471 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/connect/token, Response status code: 404
2026-01-10 11:32:54.903 +03:00 [INF] Application is shutting down...
2026-01-10 11:32:57.105 +03:00 [INF] Applying database migrations...
2026-01-10 11:32:57.494 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-10 11:32:57.510 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-10 11:32:57.514 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-10 08:32:57.51307+00:00');
SELECT changes();
2026-01-10 11:32:57.537 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-10 11:32:57.542 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-10 11:32:57.544 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-10 11:32:57.547 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-10 11:32:57.548 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-10 11:32:57.549 +03:00 [INF] Database migrations applied successfully
2026-01-10 11:32:57.550 +03:00 [INF] Seeding database...
2026-01-10 11:32:57.643 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-10 11:32:57.646 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-10 11:32:57.647 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-10 11:32:57.648 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-10 11:32:57.685 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-10 11:32:57.712 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:32:57.728 +03:00 [INF] Database seeded successfully
2026-01-10 11:32:57.734 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-10 11:32:57.962 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-10 11:32:57.962 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-10 11:32:57.962 +03:00 [INF] Hosting environment: Development
2026-01-10 11:32:57.962 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-10 11:32:59.931 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:32:59.964 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:32:59.971 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:33:00.019 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:33:00.026 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:33:00.032 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:33:00.032 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:33:00.032 +03:00 [INF] Property Password : Password123!
2026-01-10 11:33:00.040 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:33:00.055 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 22 ms
2026-01-10 11:33:00.110 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:33:00.116 +03:00 [INF] An ad hoc authorization was automatically created and associated with an unknown application: a144dd80-0935-4b84-9b24-edcf5b6fb43f.
2026-01-10 11:33:00.143 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:33:00.184 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:33:00.203 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:33:00.221 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:33:00.223 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4575 application/json;charset=UTF-8 292.8242ms
2026-01-10 11:33:18.175 +03:00 [INF] Request starting HTTP/2 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 101
2026-01-10 11:33:18.196 +03:00 [INF] Request finished HTTP/2 POST https://localhost:57679/auth/token - 404 0 null 20.897ms
2026-01-10 11:33:18.196 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:57679/auth/token, Response status code: 404
2026-01-10 11:33:39.857 +03:00 [INF] Request starting HTTP/2 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 101
2026-01-10 11:33:39.859 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:33:39.860 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "openid profile offline_access"
}.
2026-01-10 11:33:39.866 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:33:39.867 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:33:39.867 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:33:39.867 +03:00 [INF] Property Password : Password123!
2026-01-10 11:33:39.871 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:33:39.874 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 6 ms
2026-01-10 11:33:39.876 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 37), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:33:39.876 +03:00 [INF] An ad hoc authorization was automatically created and associated with an unknown application: f6ad327a-0f60-4123-b749-5e543b75803b.
2026-01-10 11:33:39.878 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:33:39.903 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:33:39.920 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:33:39.934 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:33:39.939 +03:00 [INF] Request finished HTTP/2 POST https://localhost:57679/connect/token - 200 4554 application/json;charset=UTF-8 82.557ms
2026-01-10 11:33:39.945 +03:00 [ERR] Unexpected exception in TimingPipeFlusher.FlushAsync.
System.IO.IOException: The encryption operation failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (14): Bad address
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.ConcurrentPipeWriter.FlushAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.TimingPipeFlusher.FlushAsync(MinDataRate minRate, Int64 count, IHttpOutputAborter outputAborter, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2FrameWriter.WriteGoAwayAsync(Int32 lastStreamId, Http2ErrorCode errorCode)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecuteFromThreadPool(Thread threadPoolThread)
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
   at System.Threading.Thread.StartCallback()
--- End of stack trace from previous location ---
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.ConcurrentPipeWriter.FlushAsyncAwaited(ValueTask`1 flushTask, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.TimingPipeFlusher.TimeFlushAsyncAwaited(ValueTask`1 pipeFlushTask, MinDataRate minRate, IHttpOutputAborter outputAborter, CancellationToken cancellationToken)
2026-01-10 11:33:39.949 +03:00 [ERR] Unhandled exception while processing 0HNIG4BEEMBBO.
System.IO.IOException: The encryption operation failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (14): Bad address
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetExistingTaskResult(Task`1 task, TResult result)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.HttpConnection.ProcessRequestsAsync[TContext](IHttpApplication`1 httpApplication)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetExistingTaskResult(Task`1 task, TResult result)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)
   at System.Threading.Tasks.UnwrapPromise`1.TrySetFromTask(Task task, Boolean lookForOce)
   at System.Threading.Tasks.UnwrapPromise`1.Invoke(Task completingTask)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetExistingTaskResult(Task`1 task, TResult result)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2FrameWriter.WriteToOutputPipe()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
   at System.Threading.Thread.StartCallback()
--- End of stack trace from previous location ---
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.KestrelConnection`1.ExecuteAsync()
2026-01-10 11:33:56.882 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:33:56.883 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:33:56.885 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:33:56.891 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:33:56.894 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:33:56.899 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:33:56.899 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:33:56.899 +03:00 [INF] Property Password : Password123!
2026-01-10 11:33:56.900 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:33:56.904 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 4 ms
2026-01-10 11:33:56.911 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:33:56.911 +03:00 [INF] An ad hoc authorization was automatically created and associated with an unknown application: a2c62592-2a36-44d8-8d1a-cbbedfb5f897.
2026-01-10 11:33:56.913 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:33:56.937 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:33:56.954 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:33:56.968 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:33:56.969 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4575 application/json;charset=UTF-8 86.4351ms
2026-01-10 11:34:23.151 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 117
2026-01-10 11:34:23.152 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:34:23.152 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin33@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:34:23.155 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:34:23.156 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:34:23.156 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:34:23.157 +03:00 [INF] Property Email : admin33@test.com
2026-01-10 11:34:23.157 +03:00 [INF] Property Password : Password123!
2026-01-10 11:34:23.157 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:34:23.162 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: User not found
   at ShoppingProject.UseCases.Users.Login.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/Login/LoginUserHandler.cs:line 29
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Infrastructure.Auth.PasswordGrantHandler.HandleAsync(HandleTokenRequestContext context) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Infrastructure/Auth/PasswordGrantHandler.cs:line 27
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerHandlers.Exchange.HandleTokenRequest.HandleAsync(ProcessRequestContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandler.HandleRequestAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-10 11:34:23.166 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 500 null text/plain; charset=utf-8 15.4234ms
2026-01-10 11:34:31.748 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 115
2026-01-10 11:34:31.749 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:34:31.749 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:34:31.752 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:34:31.752 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:34:31.752 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:34:31.753 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:34:31.753 +03:00 [INF] Property Password : Password123!
2026-01-10 11:34:31.753 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:34:31.758 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 4 ms
2026-01-10 11:34:31.760 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:34:31.760 +03:00 [INF] An ad hoc authorization was automatically created and associated with an unknown application: fc8467eb-e2fe-4cb3-941d-6170f57dbaef.
2026-01-10 11:34:31.761 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:31.783 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:31.800 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:31.814 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:34:31.815 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4575 application/json;charset=UTF-8 66.4665ms
2026-01-10 11:34:39.260 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 190
2026-01-10 11:34:39.261 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:34:39.262 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access",
  "email": "test@example.com"
}.
2026-01-10 11:34:39.264 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:34:39.265 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:34:39.280 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:34:39.280 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:34:39.280 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:34:39.281 +03:00 [INF] Property Password : Password123!
2026-01-10 11:34:39.281 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:34:39.284 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 3 ms
2026-01-10 11:34:39.287 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:34:39.288 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: 909a1f38-4287-4893-8e49-188926c18013.
2026-01-10 11:34:39.290 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:39.318 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:39.334 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:39.348 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:34:39.348 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 87.9241ms
2026-01-10 11:34:40.184 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 190
2026-01-10 11:34:40.184 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:34:40.185 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access",
  "email": "test@example.com"
}.
2026-01-10 11:34:40.187 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:34:40.188 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:34:40.194 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:34:40.194 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:34:40.195 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:34:40.195 +03:00 [INF] Property Password : Password123!
2026-01-10 11:34:40.195 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:34:40.198 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 3 ms
2026-01-10 11:34:40.200 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:34:40.200 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: 1476022b-cf35-4181-8954-d3cadeefc048.
2026-01-10 11:34:40.202 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:40.225 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:40.241 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:40.255 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:34:40.255 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 71.6374ms
2026-01-10 11:34:41.085 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 190
2026-01-10 11:34:41.085 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:34:41.086 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access",
  "email": "test@example.com"
}.
2026-01-10 11:34:41.089 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:34:41.090 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:34:41.099 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:34:41.100 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:34:41.100 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:34:41.100 +03:00 [INF] Property Password : Password123!
2026-01-10 11:34:41.100 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:34:41.105 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 4 ms
2026-01-10 11:34:41.106 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:34:41.106 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: 87bec915-70fb-4626-90ab-65e695751492.
2026-01-10 11:34:41.107 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:41.129 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:41.146 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:41.160 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:34:41.161 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 499 4786 application/json;charset=UTF-8 75.8457ms
2026-01-10 11:34:41.491 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 190
2026-01-10 11:34:41.492 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:34:41.492 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access",
  "email": "test@example.com"
}.
2026-01-10 11:34:41.493 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:34:41.493 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:34:41.495 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:34:41.495 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:34:41.495 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:34:41.495 +03:00 [INF] Property Password : Password123!
2026-01-10 11:34:41.495 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:34:41.497 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 1 ms
2026-01-10 11:34:41.498 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:34:41.498 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: a37047eb-024d-4ae7-9852-d855f3797439.
2026-01-10 11:34:41.499 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:41.517 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:41.531 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:41.544 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:34:41.545 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 499 4786 application/json;charset=UTF-8 53.312ms
2026-01-10 11:34:42.371 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 190
2026-01-10 11:34:42.371 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:34:42.371 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access",
  "email": "test@example.com"
}.
2026-01-10 11:34:42.372 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:34:42.373 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:34:42.377 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:34:42.377 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:34:42.377 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:34:42.377 +03:00 [INF] Property Password : Password123!
2026-01-10 11:34:42.377 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:34:42.379 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 2 ms
2026-01-10 11:34:42.380 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:34:42.380 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: 21e325ca-f118-49c0-b46f-a8116c54f7ad.
2026-01-10 11:34:42.381 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:42.399 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:42.412 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:34:42.425 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:34:42.426 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 54.664ms
2026-01-10 11:34:51.534 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 11:34:51.557 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-10 11:34:51.559 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 404 0 null 24.2586ms
2026-01-10 11:34:51.559 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:57679/auth/me, Response status code: 404
2026-01-10 11:37:03.982 +03:00 [INF] Application is shutting down...
2026-01-10 11:37:07.044 +03:00 [INF] Applying database migrations...
2026-01-10 11:37:07.370 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-10 11:37:07.386 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-10 11:37:07.389 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-10 08:37:07.388838+00:00');
SELECT changes();
2026-01-10 11:37:07.413 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-10 11:37:07.418 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-10 11:37:07.420 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-10 11:37:07.423 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-10 11:37:07.424 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-10 11:37:07.425 +03:00 [INF] Database migrations applied successfully
2026-01-10 11:37:07.426 +03:00 [INF] Seeding database...
2026-01-10 11:37:07.531 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-10 11:37:07.535 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-10 11:37:07.536 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-10 11:37:07.537 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-10 11:37:07.578 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-10 11:37:07.613 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:37:07.646 +03:00 [INF] Database seeded successfully
2026-01-10 11:37:07.653 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-10 11:37:07.911 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-10 11:37:07.911 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-10 11:37:07.912 +03:00 [INF] Hosting environment: Development
2026-01-10 11:37:07.912 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-10 11:37:39.299 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 190
2026-01-10 11:37:39.333 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:37:39.340 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access",
  "email": "test@example.com"
}.
2026-01-10 11:37:39.390 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:37:39.396 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:37:39.406 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:37:39.412 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:37:39.412 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:37:39.412 +03:00 [INF] Property Password : Password123!
2026-01-10 11:37:39.419 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:37:39.434 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 21 ms
2026-01-10 11:37:39.491 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:37:39.496 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: 7d4af29d-fdad-422d-bd52-6447ea940215.
2026-01-10 11:37:39.519 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:37:39.560 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:37:39.580 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:37:39.597 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:37:39.599 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 301.5098ms
2026-01-10 11:38:40.994 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 195
2026-01-10 11:38:40.996 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:38:40.996 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "refresh_token",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access",
  "email": "test@example.com"
}.
2026-01-10 11:38:40.997 +03:00 [INF] The token request was rejected because the mandatory 'refresh_token' parameter was missing.
2026-01-10 11:38:40.998 +03:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'refresh_token' parameter is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2029"
}.
2026-01-10 11:38:40.998 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 400 179 application/json;charset=UTF-8 4.222ms
2026-01-10 11:38:49.007 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 190
2026-01-10 11:38:49.012 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:38:49.014 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access",
  "email": "test@example.com"
}.
2026-01-10 11:38:49.024 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:38:49.029 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:38:49.032 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:38:49.033 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:38:49.033 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:38:49.033 +03:00 [INF] Property Password : Password123!
2026-01-10 11:38:49.034 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:38:49.037 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 3 ms
2026-01-10 11:38:49.040 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:38:49.040 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: 407ab6c2-3667-4eca-bf5c-58bfa2570733.
2026-01-10 11:38:49.042 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:38:49.065 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:38:49.081 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:38:49.094 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:38:49.095 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 87.7178ms
2026-01-10 11:39:24.421 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 195
2026-01-10 11:39:24.422 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:39:24.423 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "refresh_token",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access",
  "email": "test@example.com"
}.
2026-01-10 11:39:24.423 +03:00 [INF] The token request was rejected because the mandatory 'refresh_token' parameter was missing.
2026-01-10 11:39:24.424 +03:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'refresh_token' parameter is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2029"
}.
2026-01-10 11:39:24.425 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 400 179 application/json;charset=UTF-8 3.8998ms
2026-01-10 11:39:46.682 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 2085
2026-01-10 11:39:46.682 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:39:46.683 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "refresh_token",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access",
  "email": "test@example.com",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:39:46.685 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:39:46.689 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:39:46.793 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@key='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationId", "o"."AuthorizationId", "o"."ConcurrencyToken", "o"."CreationDate", "o"."ExpirationDate", "o"."Payload", "o"."Properties", "o"."RedemptionDate", "o"."ReferenceId", "o"."Status", "o"."Subject", "o"."Type", "o0"."Id", "o0"."ApplicationType", "o0"."ClientId", "o0"."ClientSecret", "o0"."ClientType", "o0"."ConcurrencyToken", "o0"."ConsentType", "o0"."DisplayName", "o0"."DisplayNames", "o0"."JsonWebKeySet", "o0"."Permissions", "o0"."PostLogoutRedirectUris", "o0"."Properties", "o0"."RedirectUris", "o0"."Requirements", "o0"."Settings", "o1"."Id", "o1"."ApplicationId", "o1"."ConcurrencyToken", "o1"."CreationDate", "o1"."Properties", "o1"."Scopes", "o1"."Status", "o1"."Subject", "o1"."Type"
FROM "OpenIddictTokens" AS "o"
LEFT JOIN "OpenIddictApplications" AS "o0" ON "o"."ApplicationId" = "o0"."Id"
LEFT JOIN "OpenIddictAuthorizations" AS "o1" ON "o"."AuthorizationId" = "o1"."Id"
WHERE "o"."Id" = @key
LIMIT 1
2026-01-10 11:39:46.807 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:39:46.809 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:39:46.809 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:39:46.809 +03:00 [INF] Property Password : Password123!
2026-01-10 11:39:46.809 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:39:46.811 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 1 ms
2026-01-10 11:39:46.816 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 36), @p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p13='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?' (Size = 8), @p10='?' (Size = 36), @p11='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
UPDATE "OpenIddictTokens" SET "ApplicationId" = @p0, "AuthorizationId" = @p1, "ConcurrencyToken" = @p2, "CreationDate" = @p3, "ExpirationDate" = @p4, "Payload" = @p5, "Properties" = @p6, "RedemptionDate" = @p7, "ReferenceId" = @p8, "Status" = @p9, "Subject" = @p10, "Type" = @p11
WHERE "Id" = @p12 AND "ConcurrencyToken" = @p13
RETURNING 1;
2026-01-10 11:39:46.817 +03:00 [INF] The token '16700ea6-f8bc-4ef5-b6da-8bf4232c3bed' was successfully marked as redeemed.
2026-01-10 11:39:46.820 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:39:46.845 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:39:46.860 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:39:46.874 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:39:46.874 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 192.5613ms
2026-01-10 11:39:52.638 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 2085
2026-01-10 11:39:52.639 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:39:52.639 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "refresh_token",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access",
  "email": "test@example.com",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:39:52.642 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:39:52.643 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:39:52.670 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@key='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationId", "o"."AuthorizationId", "o"."ConcurrencyToken", "o"."CreationDate", "o"."ExpirationDate", "o"."Payload", "o"."Properties", "o"."RedemptionDate", "o"."ReferenceId", "o"."Status", "o"."Subject", "o"."Type", "o0"."Id", "o0"."ApplicationType", "o0"."ClientId", "o0"."ClientSecret", "o0"."ClientType", "o0"."ConcurrencyToken", "o0"."ConsentType", "o0"."DisplayName", "o0"."DisplayNames", "o0"."JsonWebKeySet", "o0"."Permissions", "o0"."PostLogoutRedirectUris", "o0"."Properties", "o0"."RedirectUris", "o0"."Requirements", "o0"."Settings", "o1"."Id", "o1"."ApplicationId", "o1"."ConcurrencyToken", "o1"."CreationDate", "o1"."Properties", "o1"."Scopes", "o1"."Status", "o1"."Subject", "o1"."Type"
FROM "OpenIddictTokens" AS "o"
LEFT JOIN "OpenIddictApplications" AS "o0" ON "o"."ApplicationId" = "o0"."Id"
LEFT JOIN "OpenIddictAuthorizations" AS "o1" ON "o"."AuthorizationId" = "o1"."Id"
WHERE "o"."Id" = @key
LIMIT 1
2026-01-10 11:39:52.674 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:39:52.674 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:39:52.674 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:39:52.674 +03:00 [INF] Property Password : Password123!
2026-01-10 11:39:52.675 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:39:52.678 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 3 ms
2026-01-10 11:39:52.679 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 36), @p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p13='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?' (Size = 8), @p10='?' (Size = 36), @p11='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
UPDATE "OpenIddictTokens" SET "ApplicationId" = @p0, "AuthorizationId" = @p1, "ConcurrencyToken" = @p2, "CreationDate" = @p3, "ExpirationDate" = @p4, "Payload" = @p5, "Properties" = @p6, "RedemptionDate" = @p7, "ReferenceId" = @p8, "Status" = @p9, "Subject" = @p10, "Type" = @p11
WHERE "Id" = @p12 AND "ConcurrencyToken" = @p13
RETURNING 1;
2026-01-10 11:39:52.680 +03:00 [INF] The token '16700ea6-f8bc-4ef5-b6da-8bf4232c3bed' was successfully marked as redeemed.
2026-01-10 11:39:52.681 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:39:52.701 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:39:52.716 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:39:52.729 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:39:52.729 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 91.5029ms
2026-01-10 11:40:25.258 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 190
2026-01-10 11:40:25.259 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:40:25.259 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access",
  "email": "test@example.com"
}.
2026-01-10 11:40:25.261 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:40:25.261 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:40:25.265 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:40:25.266 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:40:25.266 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:40:25.266 +03:00 [INF] Property Password : Password123!
2026-01-10 11:40:25.266 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:40:25.270 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 4 ms
2026-01-10 11:40:25.271 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:40:25.272 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: e0dae08b-1d96-4975-b4ba-21458df72440.
2026-01-10 11:40:25.272 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:40:25.298 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:40:25.317 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:40:25.331 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:40:25.331 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 73.0019ms
2026-01-10 11:40:28.818 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 165
2026-01-10 11:40:28.819 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:40:28.819 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:40:28.821 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:40:28.822 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:40:28.827 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:40:28.827 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:40:28.827 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:40:28.827 +03:00 [INF] Property Password : Password123!
2026-01-10 11:40:28.827 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:40:28.831 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 3 ms
2026-01-10 11:40:28.833 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:40:28.833 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: 8623bea7-87aa-46f3-8a3f-f4ad102e3423.
2026-01-10 11:40:28.835 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:40:28.859 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:40:28.876 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:40:28.890 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:40:28.890 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 72.217ms
2026-01-10 11:40:33.210 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 165
2026-01-10 11:40:33.211 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:40:33.212 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:40:33.213 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:40:33.214 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:40:33.218 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:40:33.218 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:40:33.218 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:40:33.218 +03:00 [INF] Property Password : Password123!
2026-01-10 11:40:33.219 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:40:33.223 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 4 ms
2026-01-10 11:40:33.225 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:40:33.225 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: 2144db18-6a9c-47bc-b62b-51b28b0f1d2c.
2026-01-10 11:40:33.226 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:40:33.248 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:40:33.263 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:40:33.276 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:40:33.277 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 66.2228ms
2026-01-10 11:40:48.499 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 165
2026-01-10 11:40:48.500 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:40:48.500 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:40:48.502 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:40:48.503 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:40:48.507 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:40:48.508 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:40:48.508 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:40:48.508 +03:00 [INF] Property Password : Password123!
2026-01-10 11:40:48.508 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:40:48.512 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 4 ms
2026-01-10 11:40:48.513 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:40:48.514 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: 14fa41a5-10ff-44be-ade7-b5132c5c5ec8.
2026-01-10 11:40:48.514 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:40:48.538 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:40:48.553 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:40:48.566 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:40:48.566 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 67.015ms
2026-01-10 11:40:58.606 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 11:40:58.635 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-10 11:40:58.643 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 404 0 null 36.2612ms
2026-01-10 11:40:58.643 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:57679/auth/me, Response status code: 404
2026-01-10 11:41:15.484 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 165
2026-01-10 11:41:15.484 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:41:15.484 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:41:15.487 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:41:15.488 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:41:15.493 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:41:15.493 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:41:15.493 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:41:15.493 +03:00 [INF] Property Password : Password123!
2026-01-10 11:41:15.494 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:41:15.497 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 4 ms
2026-01-10 11:41:15.499 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:41:15.500 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: 121c53d4-db19-42c9-baf6-94ce13dd2171.
2026-01-10 11:41:15.501 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:41:15.525 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:41:15.540 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:41:15.553 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:41:15.553 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 69.479ms
2026-01-10 11:41:18.984 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 165
2026-01-10 11:41:18.985 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:41:18.985 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:41:18.987 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:41:18.988 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:41:18.992 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:41:18.993 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:41:18.993 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:41:18.993 +03:00 [INF] Property Password : Password123!
2026-01-10 11:41:18.993 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:41:18.997 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 3 ms
2026-01-10 11:41:18.998 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:41:18.999 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: 09f4c369-7245-4beb-a3cf-ee4ce0cf7ecd.
2026-01-10 11:41:19.000 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:41:19.026 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:41:19.042 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:41:19.055 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:41:19.056 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 71.1185ms
2026-01-10 11:41:34.102 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 165
2026-01-10 11:41:34.103 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:41:34.103 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:41:34.105 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:41:34.106 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:41:34.111 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:41:34.111 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:41:34.111 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:41:34.111 +03:00 [INF] Property Password : Password123!
2026-01-10 11:41:34.111 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:41:34.115 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 3 ms
2026-01-10 11:41:34.116 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:41:34.117 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: 2854885e-9c7c-4542-92fd-735418d372da.
2026-01-10 11:41:34.118 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:41:34.145 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:41:34.161 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:41:34.175 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:41:34.175 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 73.4571ms
2026-01-10 11:41:38.300 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 11:41:38.334 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 404 0 null 34.488ms
2026-01-10 11:41:38.335 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:57679/auth/me, Response status code: 404
2026-01-10 11:41:39.175 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 11:41:39.208 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 404 0 null 32.5955ms
2026-01-10 11:41:39.208 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:57679/auth/me, Response status code: 404
2026-01-10 11:41:39.793 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 11:41:39.816 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 404 0 null 22.9137ms
2026-01-10 11:41:39.817 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:57679/auth/me, Response status code: 404
2026-01-10 11:43:31.406 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/revoke - application/x-www-form-urlencoded 165
2026-01-10 11:43:31.407 +03:00 [INF] The request URI matched a server endpoint: "Revocation".
2026-01-10 11:43:31.409 +03:00 [INF] The revocation request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:43:31.411 +03:00 [INF] The revocation request was rejected because the mandatory 'token' parameter was missing.
2026-01-10 11:43:31.413 +03:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'token' parameter is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2029"
}.
2026-01-10 11:43:31.413 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/revoke - 400 171 application/json;charset=UTF-8 7.3016ms
2026-01-10 11:44:08.317 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 165
2026-01-10 11:44:08.318 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:44:08.318 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:44:08.320 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:44:08.321 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:44:08.324 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:44:08.325 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:44:08.325 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:44:08.325 +03:00 [INF] Property Password : Password123!
2026-01-10 11:44:08.325 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:44:08.330 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 5 ms
2026-01-10 11:44:08.332 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:44:08.332 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: d06888ea-1fde-4c9f-afdf-231f5dc85276.
2026-01-10 11:44:08.333 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:44:08.355 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:44:08.370 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:44:08.383 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:44:08.383 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 66.4624ms
2026-01-10 11:44:21.612 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/revoke - application/x-www-form-urlencoded 165
2026-01-10 11:44:21.613 +03:00 [INF] The request URI matched a server endpoint: "Revocation".
2026-01-10 11:44:21.614 +03:00 [INF] The revocation request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:44:21.615 +03:00 [INF] The revocation request was rejected because the mandatory 'token' parameter was missing.
2026-01-10 11:44:21.615 +03:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'token' parameter is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2029"
}.
2026-01-10 11:44:21.615 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/revoke - 400 171 application/json;charset=UTF-8 3.3423ms
2026-01-10 11:44:22.772 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/revoke - application/x-www-form-urlencoded 165
2026-01-10 11:44:22.772 +03:00 [INF] The request URI matched a server endpoint: "Revocation".
2026-01-10 11:44:22.774 +03:00 [INF] The revocation request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:44:22.775 +03:00 [INF] The revocation request was rejected because the mandatory 'token' parameter was missing.
2026-01-10 11:44:22.776 +03:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'token' parameter is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2029"
}.
2026-01-10 11:44:22.776 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/revoke - 400 171 application/json;charset=UTF-8 3.8865ms
2026-01-10 11:44:27.519 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 165
2026-01-10 11:44:27.520 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:44:27.520 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:44:27.522 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:44:27.523 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:44:27.527 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:44:27.527 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:44:27.527 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:44:27.527 +03:00 [INF] Property Password : Password123!
2026-01-10 11:44:27.528 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:44:27.532 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 4 ms
2026-01-10 11:44:27.533 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:44:27.534 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: b9980642-64c7-4591-b6ae-b32ba03182b2.
2026-01-10 11:44:27.535 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:44:27.561 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:44:27.576 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:44:27.589 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:44:27.590 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 70.57ms
2026-01-10 11:44:35.267 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/revoke - application/x-www-form-urlencoded 165
2026-01-10 11:44:35.268 +03:00 [INF] The request URI matched a server endpoint: "Revocation".
2026-01-10 11:44:35.268 +03:00 [INF] The revocation request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:44:35.269 +03:00 [INF] The revocation request was rejected because the mandatory 'token' parameter was missing.
2026-01-10 11:44:35.269 +03:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'token' parameter is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2029"
}.
2026-01-10 11:44:35.269 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/revoke - 400 171 application/json;charset=UTF-8 1.7606ms
2026-01-10 11:44:58.136 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/revoke - application/x-www-form-urlencoded 165
2026-01-10 11:44:58.136 +03:00 [INF] The request URI matched a server endpoint: "Revocation".
2026-01-10 11:44:58.137 +03:00 [INF] The revocation request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:44:58.137 +03:00 [INF] The revocation request was rejected because the mandatory 'token' parameter was missing.
2026-01-10 11:44:58.137 +03:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'token' parameter is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2029"
}.
2026-01-10 11:44:58.137 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/revoke - 400 171 application/json;charset=UTF-8 1.539ms
2026-01-10 11:45:06.751 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/revoke - application/x-www-form-urlencoded 165
2026-01-10 11:45:06.752 +03:00 [INF] The request URI matched a server endpoint: "Revocation".
2026-01-10 11:45:06.752 +03:00 [INF] The revocation request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:45:06.753 +03:00 [INF] The revocation request was rejected because the mandatory 'token' parameter was missing.
2026-01-10 11:45:06.753 +03:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'token' parameter is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2029"
}.
2026-01-10 11:45:06.753 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/revoke - 400 171 application/json;charset=UTF-8 1.7627ms
2026-01-10 11:45:09.591 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 165
2026-01-10 11:45:09.592 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:45:09.592 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:45:09.594 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:45:09.595 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:45:09.599 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:45:09.599 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:45:09.599 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:45:09.599 +03:00 [INF] Property Password : Password123!
2026-01-10 11:45:09.600 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:45:09.604 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 4 ms
2026-01-10 11:45:09.605 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:45:09.605 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: d776ff18-3599-4f66-8f18-adf70deacfb7.
2026-01-10 11:45:09.606 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:45:09.632 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:45:09.647 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:45:09.660 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:45:09.660 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 69.1744ms
2026-01-10 11:45:10.226 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 165
2026-01-10 11:45:10.226 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:45:10.227 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:45:10.229 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:45:10.230 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:45:10.234 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:45:10.235 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:45:10.235 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:45:10.235 +03:00 [INF] Property Password : Password123!
2026-01-10 11:45:10.236 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:45:10.239 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 3 ms
2026-01-10 11:45:10.240 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:45:10.241 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: 60b70594-9405-4ffc-9056-ac36346560be.
2026-01-10 11:45:10.242 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:45:10.265 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:45:10.279 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:45:10.292 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:45:10.292 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 66.5391ms
2026-01-10 11:46:02.656 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/revoke - application/x-www-form-urlencoded 2077
2026-01-10 11:46:02.656 +03:00 [INF] The request URI matched a server endpoint: "Revocation".
2026-01-10 11:46:02.656 +03:00 [INF] The revocation request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access",
  "token": "[redacted]",
  "token_type_hint": "refresh_token"
}.
2026-01-10 11:46:02.660 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:46:02.691 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@key='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationId", "o"."AuthorizationId", "o"."ConcurrencyToken", "o"."CreationDate", "o"."ExpirationDate", "o"."Payload", "o"."Properties", "o"."RedemptionDate", "o"."ReferenceId", "o"."Status", "o"."Subject", "o"."Type", "o0"."Id", "o0"."ApplicationType", "o0"."ClientId", "o0"."ClientSecret", "o0"."ClientType", "o0"."ConcurrencyToken", "o0"."ConsentType", "o0"."DisplayName", "o0"."DisplayNames", "o0"."JsonWebKeySet", "o0"."Permissions", "o0"."PostLogoutRedirectUris", "o0"."Properties", "o0"."RedirectUris", "o0"."Requirements", "o0"."Settings", "o1"."Id", "o1"."ApplicationId", "o1"."ConcurrencyToken", "o1"."CreationDate", "o1"."Properties", "o1"."Scopes", "o1"."Status", "o1"."Subject", "o1"."Type"
FROM "OpenIddictTokens" AS "o"
LEFT JOIN "OpenIddictApplications" AS "o0" ON "o"."ApplicationId" = "o0"."Id"
LEFT JOIN "OpenIddictAuthorizations" AS "o1" ON "o"."AuthorizationId" = "o1"."Id"
WHERE "o"."Id" = @key
LIMIT 1
2026-01-10 11:46:02.695 +03:00 [INF] The revocation request was rejected because the application 'shopping-admin' was not allowed to use the revocation endpoint.
2026-01-10 11:46:02.695 +03:00 [INF] The response was successfully returned as a JSON document: {
  "error": "unauthorized_client",
  "error_description": "This client application is not allowed to use the revocation endpoint.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2078"
}.
2026-01-10 11:46:02.695 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/revoke - 400 202 application/json;charset=UTF-8 39.8802ms
2026-01-10 11:46:11.576 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/revoke - application/x-www-form-urlencoded 1911
2026-01-10 11:46:11.576 +03:00 [INF] The request URI matched a server endpoint: "Revocation".
2026-01-10 11:46:11.577 +03:00 [INF] The revocation request was successfully extracted: {
  "token": "[redacted]",
  "token_type_hint": "refresh_token"
}.
2026-01-10 11:46:11.604 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@key='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationId", "o"."AuthorizationId", "o"."ConcurrencyToken", "o"."CreationDate", "o"."ExpirationDate", "o"."Payload", "o"."Properties", "o"."RedemptionDate", "o"."ReferenceId", "o"."Status", "o"."Subject", "o"."Type", "o0"."Id", "o0"."ApplicationType", "o0"."ClientId", "o0"."ClientSecret", "o0"."ClientType", "o0"."ConcurrencyToken", "o0"."ConsentType", "o0"."DisplayName", "o0"."DisplayNames", "o0"."JsonWebKeySet", "o0"."Permissions", "o0"."PostLogoutRedirectUris", "o0"."Properties", "o0"."RedirectUris", "o0"."Requirements", "o0"."Settings", "o1"."Id", "o1"."ApplicationId", "o1"."ConcurrencyToken", "o1"."CreationDate", "o1"."Properties", "o1"."Scopes", "o1"."Status", "o1"."Subject", "o1"."Type"
FROM "OpenIddictTokens" AS "o"
LEFT JOIN "OpenIddictApplications" AS "o0" ON "o"."ApplicationId" = "o0"."Id"
LEFT JOIN "OpenIddictAuthorizations" AS "o1" ON "o"."AuthorizationId" = "o1"."Id"
WHERE "o"."Id" = @key
LIMIT 1
2026-01-10 11:46:11.606 +03:00 [INF] The revocation request was successfully validated.
2026-01-10 11:46:11.614 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 36), @p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p13='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?' (Size = 7), @p10='?' (Size = 36), @p11='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
UPDATE "OpenIddictTokens" SET "ApplicationId" = @p0, "AuthorizationId" = @p1, "ConcurrencyToken" = @p2, "CreationDate" = @p3, "ExpirationDate" = @p4, "Payload" = @p5, "Properties" = @p6, "RedemptionDate" = @p7, "ReferenceId" = @p8, "Status" = @p9, "Subject" = @p10, "Type" = @p11
WHERE "Id" = @p12 AND "ConcurrencyToken" = @p13
RETURNING 1;
2026-01-10 11:46:11.615 +03:00 [INF] The token '5568dd33-6f37-4668-9044-1ef4fbe4b720' was successfully revoked.
2026-01-10 11:46:11.616 +03:00 [INF] The response was successfully returned as a JSON document: {}.
2026-01-10 11:46:11.616 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/revoke - 200 2 application/json;charset=UTF-8 40.663ms
2026-01-10 11:46:21.711 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/revoke - application/x-www-form-urlencoded 1911
2026-01-10 11:46:21.712 +03:00 [INF] The request URI matched a server endpoint: "Revocation".
2026-01-10 11:46:21.712 +03:00 [INF] The revocation request was successfully extracted: {
  "token": "[redacted]",
  "token_type_hint": "refresh_token"
}.
2026-01-10 11:46:21.739 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@key='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationId", "o"."AuthorizationId", "o"."ConcurrencyToken", "o"."CreationDate", "o"."ExpirationDate", "o"."Payload", "o"."Properties", "o"."RedemptionDate", "o"."ReferenceId", "o"."Status", "o"."Subject", "o"."Type", "o0"."Id", "o0"."ApplicationType", "o0"."ClientId", "o0"."ClientSecret", "o0"."ClientType", "o0"."ConcurrencyToken", "o0"."ConsentType", "o0"."DisplayName", "o0"."DisplayNames", "o0"."JsonWebKeySet", "o0"."Permissions", "o0"."PostLogoutRedirectUris", "o0"."Properties", "o0"."RedirectUris", "o0"."Requirements", "o0"."Settings", "o1"."Id", "o1"."ApplicationId", "o1"."ConcurrencyToken", "o1"."CreationDate", "o1"."Properties", "o1"."Scopes", "o1"."Status", "o1"."Subject", "o1"."Type"
FROM "OpenIddictTokens" AS "o"
LEFT JOIN "OpenIddictApplications" AS "o0" ON "o"."ApplicationId" = "o0"."Id"
LEFT JOIN "OpenIddictAuthorizations" AS "o1" ON "o"."AuthorizationId" = "o1"."Id"
WHERE "o"."Id" = @key
LIMIT 1
2026-01-10 11:46:21.739 +03:00 [INF] The token '5568dd33-6f37-4668-9044-1ef4fbe4b720' was no longer valid.
2026-01-10 11:46:21.741 +03:00 [INF] The response was successfully returned as a JSON document: {}.
2026-01-10 11:46:21.741 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/revoke - 200 2 application/json;charset=UTF-8 29.5836ms
2026-01-10 11:46:25.880 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 165
2026-01-10 11:46:25.881 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 11:46:25.882 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 11:46:25.884 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 11:46:25.884 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:46:25.889 +03:00 [INF] The token request was successfully validated.
2026-01-10 11:46:25.889 +03:00 [INF] Handling LoginUserCommand
2026-01-10 11:46:25.889 +03:00 [INF] Property Email : admin@test.com
2026-01-10 11:46:25.889 +03:00 [INF] Property Password : Password123!
2026-01-10 11:46:25.889 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 11:46:25.894 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 5 ms
2026-01-10 11:46:25.896 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 11:46:25.896 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: 28d1ac8f-4ffe-4463-ab5b-6ab3b7d02833.
2026-01-10 11:46:25.897 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:46:25.922 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:46:25.937 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 11:46:25.950 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 11:46:25.950 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 69.6332ms
2026-01-10 11:46:28.434 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/revoke - application/x-www-form-urlencoded 1911
2026-01-10 11:46:28.434 +03:00 [INF] The request URI matched a server endpoint: "Revocation".
2026-01-10 11:46:28.435 +03:00 [INF] The revocation request was successfully extracted: {
  "token": "[redacted]",
  "token_type_hint": "refresh_token"
}.
2026-01-10 11:46:28.459 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@key='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationId", "o"."AuthorizationId", "o"."ConcurrencyToken", "o"."CreationDate", "o"."ExpirationDate", "o"."Payload", "o"."Properties", "o"."RedemptionDate", "o"."ReferenceId", "o"."Status", "o"."Subject", "o"."Type", "o0"."Id", "o0"."ApplicationType", "o0"."ClientId", "o0"."ClientSecret", "o0"."ClientType", "o0"."ConcurrencyToken", "o0"."ConsentType", "o0"."DisplayName", "o0"."DisplayNames", "o0"."JsonWebKeySet", "o0"."Permissions", "o0"."PostLogoutRedirectUris", "o0"."Properties", "o0"."RedirectUris", "o0"."Requirements", "o0"."Settings", "o1"."Id", "o1"."ApplicationId", "o1"."ConcurrencyToken", "o1"."CreationDate", "o1"."Properties", "o1"."Scopes", "o1"."Status", "o1"."Subject", "o1"."Type"
FROM "OpenIddictTokens" AS "o"
LEFT JOIN "OpenIddictApplications" AS "o0" ON "o"."ApplicationId" = "o0"."Id"
LEFT JOIN "OpenIddictAuthorizations" AS "o1" ON "o"."AuthorizationId" = "o1"."Id"
WHERE "o"."Id" = @key
LIMIT 1
2026-01-10 11:46:28.461 +03:00 [INF] The revocation request was successfully validated.
2026-01-10 11:46:28.463 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 36), @p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p13='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?' (Size = 7), @p10='?' (Size = 36), @p11='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
UPDATE "OpenIddictTokens" SET "ApplicationId" = @p0, "AuthorizationId" = @p1, "ConcurrencyToken" = @p2, "CreationDate" = @p3, "ExpirationDate" = @p4, "Payload" = @p5, "Properties" = @p6, "RedemptionDate" = @p7, "ReferenceId" = @p8, "Status" = @p9, "Subject" = @p10, "Type" = @p11
WHERE "Id" = @p12 AND "ConcurrencyToken" = @p13
RETURNING 1;
2026-01-10 11:46:28.464 +03:00 [INF] The token 'ae624c59-b6d2-4a39-81d3-15014ecfcf98' was successfully revoked.
2026-01-10 11:46:28.464 +03:00 [INF] The response was successfully returned as a JSON document: {}.
2026-01-10 11:46:28.464 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/revoke - 200 2 application/json;charset=UTF-8 30.5355ms
2026-01-10 11:46:34.373 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 11:46:34.399 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 404 0 null 26.0323ms
2026-01-10 11:46:34.400 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:57679/auth/me, Response status code: 404
2026-01-10 11:47:12.626 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 11:47:12.650 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 404 0 null 23.9323ms
2026-01-10 11:47:12.650 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:57679/auth/me, Response status code: 404
2026-01-10 11:47:13.450 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 11:47:13.474 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 404 0 null 24.289ms
2026-01-10 11:47:13.475 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:57679/auth/me, Response status code: 404
2026-01-10 11:47:19.550 +03:00 [INF] Application is shutting down...
2026-01-10 11:51:03.798 +03:00 [INF] Applying database migrations...
2026-01-10 11:51:04.131 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-10 11:51:04.147 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-10 11:51:04.150 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-10 08:51:04.149798+00:00');
SELECT changes();
2026-01-10 11:51:04.174 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-10 11:51:04.179 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-10 11:51:04.181 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-10 11:51:04.184 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-10 11:51:04.185 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-10 11:51:04.186 +03:00 [INF] Database migrations applied successfully
2026-01-10 11:51:04.187 +03:00 [INF] Seeding database...
2026-01-10 11:51:04.283 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-10 11:51:04.287 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-10 11:51:04.288 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-10 11:51:04.289 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-10 11:51:04.327 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-10 11:51:04.355 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:51:04.371 +03:00 [INF] Database seeded successfully
2026-01-10 11:51:04.378 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-10 11:51:04.618 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-10 11:51:04.618 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-10 11:51:04.618 +03:00 [INF] Hosting environment: Development
2026-01-10 11:51:04.618 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-10 11:51:06.907 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 11:51:07.018 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 11:51:07.020 +03:00 [INF] Route matched with {action = "Me", controller = "Authorization"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 11:51:07.023 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) - Validation state: "Valid"
2026-01-10 11:51:07.024 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3349ms.
2026-01-10 11:51:07.028 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-10 11:51:07.035 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) in 12.8712ms
2026-01-10 11:51:07.035 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 11:51:07.035 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 200 null application/json; charset=utf-8 129.4273ms
2026-01-10 11:51:11.604 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 11:51:11.637 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 11:51:11.637 +03:00 [INF] Route matched with {action = "Me", controller = "Authorization"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 11:51:11.638 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) - Validation state: "Valid"
2026-01-10 11:51:11.638 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0447ms.
2026-01-10 11:51:11.639 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-10 11:51:11.639 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) in 1.7544ms
2026-01-10 11:51:11.640 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 11:51:11.640 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 200 null application/json; charset=utf-8 35.5263ms
2026-01-10 11:51:12.839 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 11:51:12.874 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 11:51:12.875 +03:00 [INF] Route matched with {action = "Me", controller = "Authorization"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 11:51:12.876 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) - Validation state: "Valid"
2026-01-10 11:51:12.876 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0287ms.
2026-01-10 11:51:12.876 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-10 11:51:12.876 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) in 1.5932ms
2026-01-10 11:51:12.877 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 11:51:12.877 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 200 null application/json; charset=utf-8 38.0837ms
2026-01-10 11:51:30.563 +03:00 [INF] Application is shutting down...
2026-01-10 11:51:32.902 +03:00 [INF] Applying database migrations...
2026-01-10 11:51:33.264 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-10 11:51:33.279 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-10 11:51:33.283 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-10 08:51:33.282276+00:00');
SELECT changes();
2026-01-10 11:51:33.306 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-10 11:51:33.311 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-10 11:51:33.313 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-10 11:51:33.316 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-10 11:51:33.317 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-10 11:51:33.318 +03:00 [INF] Database migrations applied successfully
2026-01-10 11:51:33.319 +03:00 [INF] Seeding database...
2026-01-10 11:51:33.411 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-10 11:51:33.414 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-10 11:51:33.415 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-10 11:51:33.416 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-10 11:51:33.454 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-10 11:51:33.481 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:51:33.498 +03:00 [INF] Database seeded successfully
2026-01-10 11:51:33.504 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-10 11:51:33.826 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-10 11:51:33.826 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-10 11:51:33.826 +03:00 [INF] Hosting environment: Development
2026-01-10 11:51:33.826 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-10 11:51:33.938 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 11:51:34.032 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 11:51:34.035 +03:00 [INF] Route matched with {action = "Me", controller = "Authorization"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 11:51:34.037 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) - Validation state: "Valid"
2026-01-10 11:51:34.039 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.4678ms.
2026-01-10 11:51:34.043 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Security.Claims.ClaimsPrincipal'.
2026-01-10 11:51:34.050 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) in 13.9279ms
2026-01-10 11:51:34.050 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 11:51:34.055 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-10 11:51:34.061 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 500 null text/plain; charset=utf-8 123.2335ms
2026-01-10 11:52:32.992 +03:00 [INF] Application is shutting down...
2026-01-10 11:53:28.780 +03:00 [INF] Applying database migrations...
2026-01-10 11:53:29.131 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-10 11:53:29.148 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-10 11:53:29.151 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-10 08:53:29.150574+00:00');
SELECT changes();
2026-01-10 11:53:29.177 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-10 11:53:29.182 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-10 11:53:29.184 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-10 11:53:29.187 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-10 11:53:29.188 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-10 11:53:29.189 +03:00 [INF] Database migrations applied successfully
2026-01-10 11:53:29.190 +03:00 [INF] Seeding database...
2026-01-10 11:53:29.290 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-10 11:53:29.293 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-10 11:53:29.294 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-10 11:53:29.296 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-10 11:53:29.336 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-10 11:53:29.364 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:53:29.381 +03:00 [INF] Database seeded successfully
2026-01-10 11:53:29.387 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-10 11:53:29.635 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-10 11:53:29.636 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-10 11:53:29.636 +03:00 [INF] Hosting environment: Development
2026-01-10 11:53:29.636 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-10 11:53:33.972 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 11:53:34.074 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 11:53:34.080 +03:00 [INF] Route matched with {action = "Me", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 11:53:34.082 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) - Validation state: "Valid"
2026-01-10 11:53:34.086 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3.2084ms.
2026-01-10 11:53:34.090 +03:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-10 11:53:34.095 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) in 14.5035ms
2026-01-10 11:53:34.096 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 11:53:34.096 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 400 null application/json; charset=utf-8 125.232ms
2026-01-10 11:54:42.715 +03:00 [INF] Application is shutting down...
2026-01-10 11:55:14.722 +03:00 [INF] Applying database migrations...
2026-01-10 11:55:15.061 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-10 11:55:15.077 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-10 11:55:15.081 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-10 08:55:15.080022+00:00');
SELECT changes();
2026-01-10 11:55:15.105 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-10 11:55:15.110 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-10 11:55:15.112 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-10 11:55:15.116 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-10 11:55:15.116 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-10 11:55:15.118 +03:00 [INF] Database migrations applied successfully
2026-01-10 11:55:15.119 +03:00 [INF] Seeding database...
2026-01-10 11:55:15.213 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-10 11:55:15.217 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-10 11:55:15.218 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-10 11:55:15.219 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-10 11:55:15.259 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-10 11:55:15.288 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 11:55:15.306 +03:00 [INF] Database seeded successfully
2026-01-10 11:55:15.312 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-10 11:55:15.575 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-10 11:55:15.575 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-10 11:55:15.575 +03:00 [INF] Hosting environment: Development
2026-01-10 11:55:15.575 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-10 11:55:18.943 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 11:55:19.055 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 11:55:19.060 +03:00 [INF] Route matched with {action = "Me", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 11:55:19.063 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) - Validation state: "Valid"
2026-01-10 11:55:19.069 +03:00 [INF] Handling MeQuery
2026-01-10 11:55:19.070 +03:00 [INF] Property UserId : b6bb2f75-82ed-4e92-ad49-a9a272feed38
2026-01-10 11:55:19.102 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @p
LIMIT 1
2026-01-10 11:55:19.114 +03:00 [INF] Handled MeQuery with MeDto { Id = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, EmailVerified = True, TwoFactorEnabled = True } in 43 ms
2026-01-10 11:55:19.115 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51.4811ms.
2026-01-10 11:55:19.119 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.MeDto'.
2026-01-10 11:55:19.126 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) in 64.1436ms
2026-01-10 11:55:19.126 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 11:55:19.127 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 200 null application/json; charset=utf-8 185.6345ms
2026-01-10 12:00:48.085 +03:00 [INF] Application is shutting down...
2026-01-10 12:01:42.772 +03:00 [INF] Applying database migrations...
2026-01-10 12:01:43.117 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-10 12:01:43.133 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-10 12:01:43.136 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-10 09:01:43.135766+00:00');
SELECT changes();
2026-01-10 12:01:43.160 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-10 12:01:43.165 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-10 12:01:43.167 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-10 12:01:43.170 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-10 12:01:43.171 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-10 12:01:43.172 +03:00 [INF] Database migrations applied successfully
2026-01-10 12:01:43.173 +03:00 [INF] Seeding database...
2026-01-10 12:01:43.271 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-10 12:01:43.275 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-10 12:01:43.276 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-10 12:01:43.278 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-10 12:01:43.322 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-10 12:01:43.350 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 12:01:43.367 +03:00 [INF] Database seeded successfully
2026-01-10 12:01:43.373 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-10 12:01:43.692 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-10 12:01:43.692 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-10 12:01:43.692 +03:00 [INF] Hosting environment: Development
2026-01-10 12:01:43.692 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-10 12:03:21.014 +03:00 [INF] Application is shutting down...
2026-01-10 12:06:02.191 +03:00 [INF] Applying database migrations...
2026-01-10 12:06:02.547 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-10 12:06:02.564 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-10 12:06:02.568 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-10 09:06:02.567127+00:00');
SELECT changes();
2026-01-10 12:06:02.595 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-10 12:06:02.600 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-10 12:06:02.603 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-10 12:06:02.606 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-10 12:06:02.607 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-10 12:06:02.608 +03:00 [INF] Database migrations applied successfully
2026-01-10 12:06:02.609 +03:00 [INF] Seeding database...
2026-01-10 12:06:02.714 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-10 12:06:02.717 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-10 12:06:02.719 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-10 12:06:02.720 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-10 12:06:02.764 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-10 12:06:02.794 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 12:06:02.813 +03:00 [INF] Database seeded successfully
2026-01-10 12:06:02.819 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-10 12:06:03.080 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-10 12:06:03.080 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-10 12:06:03.080 +03:00 [INF] Hosting environment: Development
2026-01-10 12:06:03.080 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-10 12:06:05.031 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 12:06:05.139 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 12:06:05.145 +03:00 [INF] Route matched with {action = "Me", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 12:06:05.147 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) - Validation state: "Valid"
2026-01-10 12:06:05.155 +03:00 [INF] Handling MeQuery
2026-01-10 12:06:05.155 +03:00 [INF] Property UserId : b6bb2f75-82ed-4e92-ad49-a9a272feed38
2026-01-10 12:06:05.192 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @p
LIMIT 1
2026-01-10 12:06:05.205 +03:00 [INF] Handled MeQuery with MeDto { Id = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, EmailVerified = True, TwoFactorEnabled = True } in 49 ms
2026-01-10 12:06:05.207 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 57.9415ms.
2026-01-10 12:06:05.211 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.MeDto'.
2026-01-10 12:06:05.219 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) in 72.5703ms
2026-01-10 12:06:05.219 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 12:06:05.221 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 200 null application/json; charset=utf-8 190.639ms
2026-01-10 12:06:06.760 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 12:06:06.791 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 12:06:06.791 +03:00 [INF] Route matched with {action = "Me", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 12:06:06.791 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) - Validation state: "Valid"
2026-01-10 12:06:06.792 +03:00 [INF] Handling MeQuery
2026-01-10 12:06:06.792 +03:00 [INF] Property UserId : b6bb2f75-82ed-4e92-ad49-a9a272feed38
2026-01-10 12:06:06.795 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @p
LIMIT 1
2026-01-10 12:06:06.795 +03:00 [INF] Handled MeQuery with MeDto { Id = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, EmailVerified = True, TwoFactorEnabled = True } in 3 ms
2026-01-10 12:06:06.796 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.0679ms.
2026-01-10 12:06:06.796 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.MeDto'.
2026-01-10 12:06:06.796 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) in 4.8306ms
2026-01-10 12:06:06.796 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 12:06:06.796 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 200 null application/json; charset=utf-8 36.182ms
2026-01-10 12:07:19.677 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 12:07:19.707 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 12:07:19.713 +03:00 [INF] Route matched with {action = "Me", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 12:07:19.713 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) - Validation state: "Valid"
2026-01-10 12:07:19.719 +03:00 [INF] Handling MeQuery
2026-01-10 12:07:19.719 +03:00 [INF] Property UserId : b6bb2f75-82ed-4e92-ad49-a9a272feed38
2026-01-10 12:07:19.720 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @p
LIMIT 1
2026-01-10 12:07:19.721 +03:00 [INF] Handled MeQuery with MeDto { Id = b6bb2f75-82ed-4e92-ad49-a9a272feed38, UserName = admin, Email = admin@test.com, EmailVerified = True, TwoFactorEnabled = True } in 1 ms
2026-01-10 12:07:19.721 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.4411ms.
2026-01-10 12:07:19.721 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.MeDto'.
2026-01-10 12:07:19.722 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) in 8.998ms
2026-01-10 12:07:19.722 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 12:07:19.723 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 200 null application/json; charset=utf-8 46.012ms
2026-01-10 12:07:30.291 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 166
2026-01-10 12:07:30.294 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 12:07:30.306 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "furkan@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 12:07:30.341 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 12:07:30.346 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 12:07:30.358 +03:00 [INF] The token request was successfully validated.
2026-01-10 12:07:30.360 +03:00 [INF] Handling LoginUserCommand
2026-01-10 12:07:30.360 +03:00 [INF] Property Email : furkan@test.com
2026-01-10 12:07:30.360 +03:00 [INF] Property Password : Password123!
2026-01-10 12:07:30.367 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 12:07:30.372 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: User not found
   at ShoppingProject.UseCases.Users.Login.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/Login/LoginUserHandler.cs:line 29
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Infrastructure.Auth.PasswordGrantHandler.HandleAsync(HandleTokenRequestContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerHandlers.Exchange.HandleTokenRequest.HandleAsync(ProcessRequestContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandler.HandleRequestAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-10 12:07:30.373 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 500 null text/plain; charset=utf-8 82.2584ms
2026-01-10 12:07:41.309 +03:00 [INF] Application is shutting down...
2026-01-10 12:07:45.707 +03:00 [INF] Applying database migrations...
2026-01-10 12:07:46.056 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-10 12:07:46.072 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-10 12:07:46.076 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-10 09:07:46.075151+00:00');
SELECT changes();
2026-01-10 12:07:46.100 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-10 12:07:46.106 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-10 12:07:46.108 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-10 12:07:46.111 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-10 12:07:46.112 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-10 12:07:46.113 +03:00 [INF] Database migrations applied successfully
2026-01-10 12:07:46.114 +03:00 [INF] Seeding database...
2026-01-10 12:07:46.245 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-10 12:07:46.248 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-10 12:07:46.249 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-10 12:07:46.297 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-10 12:07:46.314 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 12:07:46.347 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 17), @p4='?' (Size = 15), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 69), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedDate", "DisplayName", "Email", "IsActive", "IsDeleted", "PasswordHash", "UpdatedAt", "UpdatedDate", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2026-01-10 12:07:46.351 +03:00 [INF] Database seeded successfully
2026-01-10 12:07:46.356 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-10 12:07:46.605 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-10 12:07:46.605 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-10 12:07:46.605 +03:00 [INF] Hosting environment: Development
2026-01-10 12:07:46.605 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-10 12:07:46.945 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 166
2026-01-10 12:07:46.974 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 12:07:46.982 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "furkan@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 12:07:47.035 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 12:07:47.041 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 12:07:47.052 +03:00 [INF] The token request was successfully validated.
2026-01-10 12:07:47.060 +03:00 [INF] Handling LoginUserCommand
2026-01-10 12:07:47.060 +03:00 [INF] Property Email : furkan@test.com
2026-01-10 12:07:47.060 +03:00 [INF] Property Password : Password123!
2026-01-10 12:07:47.068 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 12:07:47.073 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = 78d8d5a1-f438-4bb8-8d94-3d541cd15021, UserName = furkan, Email = furkan@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 12 ms
2026-01-10 12:07:47.110 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 12:07:47.113 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: 52a2a75a-07b2-483b-9a11-0021ede77801.
2026-01-10 12:07:47.139 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 12:07:47.176 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 12:07:47.198 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 12:07:47.215 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 12:07:47.218 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 273.7473ms
2026-01-10 12:07:58.136 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/connect/token - application/x-www-form-urlencoded 166
2026-01-10 12:07:58.139 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-10 12:07:58.140 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "furkan@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile offline_access"
}.
2026-01-10 12:07:58.151 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @p1
2026-01-10 12:07:58.155 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-10 12:07:58.160 +03:00 [INF] The token request was successfully validated.
2026-01-10 12:07:58.160 +03:00 [INF] Handling LoginUserCommand
2026-01-10 12:07:58.160 +03:00 [INF] Property Email : furkan@test.com
2026-01-10 12:07:58.160 +03:00 [INF] Property Password : Password123!
2026-01-10 12:07:58.161 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 12:07:58.163 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = 78d8d5a1-f438-4bb8-8d94-3d541cd15021, UserName = furkan, Email = furkan@test.com, Roles = System.Collections.Generic.List`1[System.String] } in 2 ms
2026-01-10 12:07:58.166 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (Size = 43), @p6='?' (Size = 5), @p7='?' (Size = 36), @p8='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictAuthorizations" ("Id", "ApplicationId", "ConcurrencyToken", "CreationDate", "Properties", "Scopes", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-10 12:07:58.166 +03:00 [INF] An ad hoc authorization was automatically created and associated with the 'shopping-admin' application: 9ff604ec-5d1c-41b1-a9a5-d66dc6b900ba.
2026-01-10 12:07:58.168 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 12:07:58.195 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 12:07:58.213 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 36), @p3='?' (Size = 36), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (Size = 5), @p11='?' (Size = 36), @p12='?' (Size = 41)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OpenIddictTokens" ("Id", "ApplicationId", "AuthorizationId", "ConcurrencyToken", "CreationDate", "ExpirationDate", "Payload", "Properties", "RedemptionDate", "ReferenceId", "Status", "Subject", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-10 12:07:58.227 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2026-01-10 12:07:58.228 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/connect/token - 200 4786 application/json;charset=UTF-8 91.1327ms
2026-01-10 12:08:01.177 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-10 12:08:01.273 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 12:08:01.280 +03:00 [INF] Route matched with {action = "Me", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 12:08:01.282 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) - Validation state: "Valid"
2026-01-10 12:08:01.283 +03:00 [INF] Handling MeQuery
2026-01-10 12:08:01.283 +03:00 [INF] Property UserId : 78d8d5a1-f438-4bb8-8d94-3d541cd15021
2026-01-10 12:08:01.294 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Id" = @p
LIMIT 1
2026-01-10 12:08:01.295 +03:00 [INF] Handled MeQuery with MeDto { Id = 78d8d5a1-f438-4bb8-8d94-3d541cd15021, UserName = furkan, Email = furkan@test.com, EmailVerified = True, TwoFactorEnabled = True } in 11 ms
2026-01-10 12:08:01.296 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.3598ms.
2026-01-10 12:08:01.298 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.MeDto'.
2026-01-10 12:08:01.305 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web) in 24.0903ms
2026-01-10 12:08:01.305 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Me (ShoppingProject.Web)'
2026-01-10 12:08:01.305 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 200 null application/json; charset=utf-8 127.8525ms
2026-01-10 12:08:36.055 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/register - application/json 134
2026-01-10 12:08:36.062 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Register (ShoppingProject.Web)'
2026-01-10 12:08:36.073 +03:00 [INF] Route matched with {action = "Register", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ShoppingProject.UseCases.Users.RegisterUserCommand) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 12:08:36.083 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Register (ShoppingProject.Web) - Validation state: "Valid"
2026-01-10 12:08:36.090 +03:00 [INF] Handling RegisterUserCommand
2026-01-10 12:08:36.090 +03:00 [INF] Property Email : test1@example.com
2026-01-10 12:08:36.090 +03:00 [INF] Property Password : Pass123!
2026-01-10 12:08:36.090 +03:00 [INF] Property UserName : testuser1
2026-01-10 12:08:36.090 +03:00 [INF] Property DisplayName : Furkan Trkylmaz
2026-01-10 12:08:36.092 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 12:08:36.095 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 17), @p4='?' (Size = 17), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 69), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedDate", "DisplayName", "Email", "IsActive", "IsDeleted", "PasswordHash", "UpdatedAt", "UpdatedDate", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2026-01-10 12:08:36.101 +03:00 [INF] Handled RegisterUserCommand with "418b1f99-6944-4a58-8e57-25f99ad06f90" in 10 ms
2026-01-10 12:08:36.101 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Register (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.CreatedResult in 17.219ms.
2026-01-10 12:08:36.101 +03:00 [INF] Executing CreatedResult, writing value of type '<>f__AnonymousType0`3[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-10 12:08:36.102 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Register (ShoppingProject.Web) in 29.1762ms
2026-01-10 12:08:36.102 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Register (ShoppingProject.Web)'
2026-01-10 12:08:36.103 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/register - 201 null application/json; charset=utf-8 47.8652ms
2026-01-10 12:08:37.607 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/register - application/json 134
2026-01-10 12:08:37.613 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Register (ShoppingProject.Web)'
2026-01-10 12:08:37.614 +03:00 [INF] Route matched with {action = "Register", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ShoppingProject.UseCases.Users.RegisterUserCommand) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 12:08:37.615 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Register (ShoppingProject.Web) - Validation state: "Valid"
2026-01-10 12:08:37.616 +03:00 [INF] Handling RegisterUserCommand
2026-01-10 12:08:37.616 +03:00 [INF] Property Email : test1@example.com
2026-01-10 12:08:37.616 +03:00 [INF] Property Password : Pass123!
2026-01-10 12:08:37.616 +03:00 [INF] Property UserName : testuser1
2026-01-10 12:08:37.616 +03:00 [INF] Property DisplayName : Furkan Trkylmaz
2026-01-10 12:08:37.617 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 12:08:37.619 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Register (ShoppingProject.Web) in 4.8409ms
2026-01-10 12:08:37.619 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Register (ShoppingProject.Web)'
2026-01-10 12:08:37.628 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: User already exists
   at ShoppingProject.UseCases.Users.RegisterUserHandler.Handle(RegisterUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/RegisterUserHandler.cs:line 35
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Register(RegisterUserCommand command) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-10 12:08:37.630 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/register - 500 null text/plain; charset=utf-8 23.6782ms
2026-01-10 12:08:40.107 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/register - application/json 134
2026-01-10 12:08:40.108 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Register (ShoppingProject.Web)'
2026-01-10 12:08:40.108 +03:00 [INF] Route matched with {action = "Register", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ShoppingProject.UseCases.Users.RegisterUserCommand) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-10 12:08:40.109 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Register (ShoppingProject.Web) - Validation state: "Valid"
2026-01-10 12:08:40.115 +03:00 [INF] Handling RegisterUserCommand
2026-01-10 12:08:40.115 +03:00 [INF] Property Email : test1@example.com
2026-01-10 12:08:40.115 +03:00 [INF] Property Password : Pass123!
2026-01-10 12:08:40.115 +03:00 [INF] Property UserName : testuser1
2026-01-10 12:08:40.116 +03:00 [INF] Property DisplayName : Furkan Trkylmaz
2026-01-10 12:08:40.117 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-10 12:08:40.117 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Register (ShoppingProject.Web) in 8.8291ms
2026-01-10 12:08:40.117 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Register (ShoppingProject.Web)'
2026-01-10 12:08:40.118 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: User already exists
   at ShoppingProject.UseCases.Users.RegisterUserHandler.Handle(RegisterUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/RegisterUserHandler.cs:line 35
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Register(RegisterUserCommand command) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-10 12:08:40.119 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/register - 500 null text/plain; charset=utf-8 12.2084ms
