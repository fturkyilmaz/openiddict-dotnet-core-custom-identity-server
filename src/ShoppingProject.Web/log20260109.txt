2026-01-09 17:02:32.773 +03:00 [INF] Applying database migrations...
2026-01-09 17:02:33.151 +03:00 [ERR] An error occurred migrating the DB. An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at ShoppingProject.Web.Configurations.MiddlewareConfig.MigrateDatabaseAsync(WebApplication app) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Configurations/MiddlewareConfig.cs:line 52
2026-01-09 17:04:15.987 +03:00 [INF] Applying database migrations...
2026-01-09 17:04:16.341 +03:00 [ERR] An error occurred migrating the DB. An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at ShoppingProject.Web.Configurations.MiddlewareConfig.MigrateDatabaseAsync(WebApplication app) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Configurations/MiddlewareConfig.cs:line 52
2026-01-09 17:06:06.264 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-09 17:06:06.297 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-09 17:06:06.301 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-09 14:06:06.300273+00:00');
SELECT changes();
2026-01-09 17:06:06.323 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-09 17:06:06.325 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-09 17:06:06.326 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-09 17:06:06.331 +03:00 [INF] Applying migration '20260109140603_AutoMigration_20260109170600'.
2026-01-09 17:06:06.341 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Users" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Users" PRIMARY KEY,
    "CreatedAt" TEXT NOT NULL,
    "CreatedDate" TEXT NOT NULL,
    "DisplayName" TEXT NOT NULL,
    "Email" TEXT NOT NULL,
    "IsActive" INTEGER NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    "PasswordHash" TEXT NOT NULL,
    "UpdatedAt" TEXT NOT NULL,
    "UpdatedDate" TEXT NULL,
    "UserName" TEXT NOT NULL
);
2026-01-09 17:06:06.341 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Users" ("Id", "CreatedAt", "CreatedDate", "DisplayName", "Email", "IsActive", "IsDeleted", "PasswordHash", "UpdatedAt", "UpdatedDate", "UserName")
SELECT "Id", "CreatedAt", "CreatedDate", "DisplayName", "Email", "IsActive", "IsDeleted", "PasswordHash", "UpdatedAt", "UpdatedDate", "UserName"
FROM "Users";
2026-01-09 17:06:06.342 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2026-01-09 17:06:06.342 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Users";
2026-01-09 17:06:06.343 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Users" RENAME TO "Users";
2026-01-09 17:06:06.343 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2026-01-09 17:06:06.343 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20260109140603_AutoMigration_20260109170600', '10.0.1');
2026-01-09 17:06:06.343 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-09 17:07:05.963 +03:00 [INF] Applying database migrations...
2026-01-09 17:07:06.322 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-09 17:07:06.337 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-09 17:07:06.341 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-09 14:07:06.340427+00:00');
SELECT changes();
2026-01-09 17:07:06.366 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-09 17:07:06.371 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-09 17:07:06.373 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-09 17:07:06.376 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-09 17:07:06.377 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-09 17:07:06.378 +03:00 [INF] Database migrations applied successfully
2026-01-09 17:07:06.379 +03:00 [INF] Seeding database...
2026-01-09 17:07:06.479 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2026-01-09 17:07:06.483 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-09 17:07:06.484 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-09 17:07:06.485 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-09 17:07:06.486 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-09 17:07:06.529 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-09 17:07:06.557 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:07:06.576 +03:00 [INF] Database seeded successfully
2026-01-09 17:07:06.582 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-09 17:07:06.837 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-09 17:07:06.838 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-09 17:07:06.838 +03:00 [INF] Hosting environment: Development
2026-01-09 17:07:06.838 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-09 17:07:11.481 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:07:11.519 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:07:11.525 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:07:11.556 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:07:11.566 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:07:11.581 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:07:11.588 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:07:11.593 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:07:11.598 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:07:11.598 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:07:11.598 +03:00 [INF] Property Password : Password123!
2026-01-09 17:07:11.605 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:07:11.619 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 30.0228ms
2026-01-09 17:07:11.621 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:07:11.625 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Invalid credentials
   at ShoppingProject.UseCases.Users.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/AuthHandlers.cs:line 58
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Token(String username, String password) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-09 17:07:11.629 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 500 null text/plain; charset=utf-8 149.2535ms
2026-01-09 17:07:12.547 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:07:12.551 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:07:12.552 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:07:12.564 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:07:12.569 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:07:12.571 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:07:12.571 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:07:12.572 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:07:12.572 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:07:12.573 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:07:12.573 +03:00 [INF] Property Password : Password123!
2026-01-09 17:07:12.573 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:07:12.574 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 2.663ms
2026-01-09 17:07:12.574 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:07:12.575 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Invalid credentials
   at ShoppingProject.UseCases.Users.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/AuthHandlers.cs:line 58
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Token(String username, String password) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-09 17:07:12.577 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 500 null text/plain; charset=utf-8 29.334ms
2026-01-09 17:07:13.577 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:07:13.582 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:07:13.584 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:07:13.590 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:07:13.597 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:07:13.601 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:07:13.602 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:07:13.602 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:07:13.605 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:07:13.605 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:07:13.605 +03:00 [INF] Property Password : Password123!
2026-01-09 17:07:13.606 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:07:13.606 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.4844ms
2026-01-09 17:07:13.606 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:07:13.607 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Invalid credentials
   at ShoppingProject.UseCases.Users.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/AuthHandlers.cs:line 58
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Token(String username, String password) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-09 17:07:13.608 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 500 null text/plain; charset=utf-8 30.7031ms
2026-01-09 17:08:09.867 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:08:09.869 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:08:09.870 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:08:09.872 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:08:09.877 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:08:09.878 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:08:09.878 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:08:09.879 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:08:09.879 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:08:09.879 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:08:09.879 +03:00 [INF] Property Password : Password123!
2026-01-09 17:08:09.880 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:08:09.881 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 2.5009ms
2026-01-09 17:08:09.881 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:08:09.881 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Invalid credentials
   at ShoppingProject.UseCases.Users.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/AuthHandlers.cs:line 58
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Token(String username, String password) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-09 17:08:09.882 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 500 null text/plain; charset=utf-8 14.8797ms
2026-01-09 17:08:10.684 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:08:10.685 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:08:10.685 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:08:10.687 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:08:10.692 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:08:10.692 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:08:10.693 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:08:10.693 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:08:10.693 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:08:10.693 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:08:10.693 +03:00 [INF] Property Password : Password123!
2026-01-09 17:08:10.694 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:08:10.695 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 1.8307ms
2026-01-09 17:08:10.695 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:08:10.695 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Invalid credentials
   at ShoppingProject.UseCases.Users.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/AuthHandlers.cs:line 58
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Token(String username, String password) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-09 17:08:10.697 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 500 null text/plain; charset=utf-8 12.8557ms
2026-01-09 17:08:15.186 +03:00 [INF] Application is shutting down...
2026-01-09 17:08:22.982 +03:00 [INF] Applying database migrations...
2026-01-09 17:08:23.347 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-09 17:08:23.364 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-09 17:08:23.368 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-09 14:08:23.367329+00:00');
SELECT changes();
2026-01-09 17:08:23.395 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-09 17:08:23.400 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-09 17:08:23.402 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-09 17:08:23.405 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-09 17:08:23.406 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-09 17:08:23.407 +03:00 [INF] Database migrations applied successfully
2026-01-09 17:08:23.408 +03:00 [INF] Seeding database...
2026-01-09 17:08:23.510 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2026-01-09 17:08:23.514 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-09 17:08:23.516 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-09 17:08:23.517 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-09 17:08:23.519 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-09 17:08:23.562 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-09 17:08:23.593 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:08:23.612 +03:00 [INF] Database seeded successfully
2026-01-09 17:08:23.618 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-09 17:08:23.932 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-09 17:08:23.932 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-09 17:08:23.932 +03:00 [INF] Hosting environment: Development
2026-01-09 17:08:23.932 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-09 17:08:26.082 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:08:26.111 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:08:26.118 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:08:26.152 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:08:26.164 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:08:26.179 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:08:26.187 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:08:26.192 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:08:26.198 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:08:26.199 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:08:26.199 +03:00 [INF] Property Password : Password123!
2026-01-09 17:08:26.207 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:08:26.223 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 34.7217ms
2026-01-09 17:08:26.225 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:08:26.228 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Invalid credentials , please try again admin@test.com Password123! nWMLQMe7Et0ZGGC1C9k6AncawVz9YNEpN5W+o8Hhp78=
   at ShoppingProject.UseCases.Users.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/AuthHandlers.cs:line 58
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Token(String username, String password) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-09 17:08:26.234 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 500 null text/plain; charset=utf-8 152.4899ms
2026-01-09 17:14:29.441 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:29.445 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:29.446 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:29.460 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:29.466 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:29.467 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:29.468 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:29.468 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:29.469 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:29.469 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:29.469 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:29.470 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:29.470 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 2.3159ms
2026-01-09 17:14:29.470 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:29.471 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: User not found
   at ShoppingProject.UseCases.Users.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/AuthHandlers.cs:line 55
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Token(String username, String password) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-09 17:14:29.473 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 500 null text/plain; charset=utf-8 32.0218ms
2026-01-09 17:14:30.245 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:30.247 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:30.248 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:30.250 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:30.253 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:30.255 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:30.255 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:30.255 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:30.257 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:30.257 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:30.257 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:30.257 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:30.257 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 2.1094ms
2026-01-09 17:14:30.257 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:30.258 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: User not found
   at ShoppingProject.UseCases.Users.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/AuthHandlers.cs:line 55
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Token(String username, String password) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-09 17:14:30.258 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 500 null text/plain; charset=utf-8 12.9658ms
2026-01-09 17:14:39.674 +03:00 [INF] Application is shutting down...
2026-01-09 17:14:41.929 +03:00 [INF] Applying database migrations...
2026-01-09 17:14:42.314 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-09 17:14:42.333 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-09 17:14:42.336 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-09 14:14:42.335922+00:00');
SELECT changes();
2026-01-09 17:14:42.364 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-09 17:14:42.369 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-09 17:14:42.371 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-09 17:14:42.374 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-09 17:14:42.375 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-09 17:14:42.378 +03:00 [INF] Database migrations applied successfully
2026-01-09 17:14:42.379 +03:00 [INF] Seeding database...
2026-01-09 17:14:42.487 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2026-01-09 17:14:42.491 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-09 17:14:42.532 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-09 17:14:42.534 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-09 17:14:42.535 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-09 17:14:42.584 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-09 17:14:42.602 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:42.638 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 13), @p4='?' (Size = 14), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 69), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedDate", "DisplayName", "Email", "IsActive", "IsDeleted", "PasswordHash", "UpdatedAt", "UpdatedDate", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2026-01-09 17:14:42.642 +03:00 [INF] Database seeded successfully
2026-01-09 17:14:42.649 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-09 17:14:42.921 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-09 17:14:42.921 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-09 17:14:42.921 +03:00 [INF] Hosting environment: Development
2026-01-09 17:14:42.921 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-09 17:14:43.860 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:43.888 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:43.894 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:43.926 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:43.937 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:43.951 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:43.959 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:43.964 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:43.969 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:43.969 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:43.969 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:43.977 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:43.990 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODgzLCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.uXcF1A356YR2nd5FwUxjNCIDOw2u88W3FYcgDFIW1hw, RefreshToken = 1iEz0C27P3y+/JKFUwttC4zfIFNxEP5IvrPmRgbO0/N4dKtNmNJd5oAiO8N7iY4CtIgFS2Qlgmi8F6l8NJMFDg== } in 20 ms
2026-01-09 17:14:43.991 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.8213ms.
2026-01-09 17:14:43.995 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:44.002 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 42.3994ms
2026-01-09 17:14:44.002 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:44.004 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 145.1342ms
2026-01-09 17:14:45.678 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:45.680 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:45.681 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:45.688 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:45.691 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:45.692 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:45.692 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:45.692 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:45.693 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:45.693 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:45.693 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:45.693 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:45.696 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg1LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.-aacMtqPoJv5UtGi3LVkx0xnBjkvsmOXIL5JkUdPEms, RefreshToken = y0dr3jRvs3NRXhxsjg/dxEyoS34EgXDMmCbMpnPBbD/prU7XNa2WUCzw8UDz2HTRz0v55PffjQslGy1ycoX+WQ== } in 2 ms
2026-01-09 17:14:45.696 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.5228ms.
2026-01-09 17:14:45.696 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:45.696 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.4406ms
2026-01-09 17:14:45.696 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:45.697 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 18.3836ms
2026-01-09 17:14:46.533 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:46.539 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:46.540 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:46.546 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:46.554 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:46.556 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:46.557 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:46.557 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:46.558 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:46.558 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:46.558 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:46.559 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:46.561 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg2LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.gY2HSEDTn9_ahX9dQztSkhHp3d_FuqXtrZfabdaxHng, RefreshToken = WGfCAem5Ok0bqOFb9ZYqAkHpFafxtGdguxitG6kuPbQ2HiHCC4Q18awIeCvSUskepJnKNlEvvisSb+MLV3uXxw== } in 2 ms
2026-01-09 17:14:46.561 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.9335ms.
2026-01-09 17:14:46.561 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:46.561 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.7797ms
2026-01-09 17:14:46.561 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:46.562 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 499 null application/json; charset=utf-8 28.9182ms
2026-01-09 17:14:46.929 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:46.929 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:46.929 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:46.930 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:46.933 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:46.933 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:46.933 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:46.934 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:46.934 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:46.934 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:46.934 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:46.934 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:46.938 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg2LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.gY2HSEDTn9_ahX9dQztSkhHp3d_FuqXtrZfabdaxHng, RefreshToken = jHElUEEn6jN6XilSLVLVYOp7Njmhri5/1p1J+6klnVEasCyZ31M86dmqppbTb4bLbTtU0Nr5TFcWtXACnd64UA== } in 3 ms
2026-01-09 17:14:46.938 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.9155ms.
2026-01-09 17:14:46.938 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:46.938 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.346ms
2026-01-09 17:14:46.938 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:46.938 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 9.5012ms
2026-01-09 17:14:47.265 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:47.265 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:47.266 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:47.266 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:47.268 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:47.268 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:47.268 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:47.269 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:47.269 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:47.269 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:47.269 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:47.269 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:47.271 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg3LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.N6Q3TKKTSz0K-RUgQbc_DR5bXbMKmXMMEyXjNDlvZyc, RefreshToken = jf9jieozq0cocFG5imOYu6t+NmbNuDn9J8LSA7O0vlfgDGGVR5Ks2Jii1BurKknn7dfEJ+7i3a2HnKmUvtJu1A== } in 2 ms
2026-01-09 17:14:47.271 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.1582ms.
2026-01-09 17:14:47.271 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:47.271 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 2.4674ms
2026-01-09 17:14:47.271 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:47.271 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 5.8798ms
2026-01-09 17:14:47.674 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:47.675 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:47.675 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:47.676 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:47.678 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:47.678 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:47.678 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:47.678 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:47.678 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:47.678 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:47.678 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:47.679 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:47.681 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg3LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.N6Q3TKKTSz0K-RUgQbc_DR5bXbMKmXMMEyXjNDlvZyc, RefreshToken = AGwCuJ/WNf9/tAcEWB5IZC9TMtVyxMrbvbj0UMAawdO9C0PhQMUFGtAkVpuC8h2fDsblIbi730PXNdDUjZd2vQ== } in 2 ms
2026-01-09 17:14:47.681 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.9389ms.
2026-01-09 17:14:47.681 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:47.681 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 3.3164ms
2026-01-09 17:14:47.681 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:47.681 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 7.2177ms
2026-01-09 17:14:48.024 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:48.024 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:48.024 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:48.025 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:48.028 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:48.028 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:48.028 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:48.028 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:48.028 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:48.028 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:48.028 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:48.028 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:48.031 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg4LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.T27IlC3YPPGZhFBM3ghstxUiIjz-v3zXNpPOMGJ3G8A, RefreshToken = Crk5GtM9Oxku7fXaoLZwyNvzuUHfH+QgUSZwqvesrWaeILslgz+2X22HkP2IbotWSWpOWYBsJ1Mk14jAiw2PHg== } in 2 ms
2026-01-09 17:14:48.031 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.6645ms.
2026-01-09 17:14:48.031 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:48.031 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 3.0182ms
2026-01-09 17:14:48.031 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:48.031 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 7.1077ms
2026-01-09 17:14:48.339 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:48.340 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:48.341 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:48.343 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:48.347 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:48.347 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:48.347 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:48.347 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:48.348 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:48.348 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:48.348 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:48.348 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:48.353 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg4LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.T27IlC3YPPGZhFBM3ghstxUiIjz-v3zXNpPOMGJ3G8A, RefreshToken = 4Hl1K53o1wps+LPEdKDHSdR+ECaI4XGynNmYiDMPTo3anwxO5pKw6fcJEi9Y9+7vkmjykok9fkZ0yPFUFc+cBQ== } in 5 ms
2026-01-09 17:14:48.353 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.7955ms.
2026-01-09 17:14:48.353 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:48.354 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 6.3929ms
2026-01-09 17:14:48.354 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:48.354 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 14.4313ms
2026-01-09 17:14:48.884 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:48.885 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:48.885 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:48.888 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:48.891 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:48.892 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:48.892 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:48.892 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:48.892 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:48.892 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:48.892 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:48.893 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:48.896 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg4LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.T27IlC3YPPGZhFBM3ghstxUiIjz-v3zXNpPOMGJ3G8A, RefreshToken = 2scPv9huB+UtHKNFYzyILQsfyhb7sDU642uA0EaEA6Ff1feXFIBDYj0Ku1euOB6aUKyiZsMaFjbJPIUscPHUKA== } in 3 ms
2026-01-09 17:14:48.896 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.7189ms.
2026-01-09 17:14:48.896 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:48.896 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.3107ms
2026-01-09 17:14:48.896 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:48.896 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.4859ms
2026-01-09 17:14:49.854 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:49.855 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:49.855 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:49.857 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:49.862 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:49.862 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:49.862 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:49.862 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:49.863 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:49.863 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:49.863 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:49.863 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:49.867 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg5LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.aGhHTvkAvZHVadykk0KyyRfOKB2gRele5077b2BFW1o, RefreshToken = EdgDXNr0s5W28szHUpmIcDYy5fcpApIZCQZXGeVWpfQUJ9+XDUvaiLpqPMrvgpfC0SaSI4inHfI3U5gDtuZqzw== } in 4 ms
2026-01-09 17:14:49.867 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.6309ms.
2026-01-09 17:14:49.867 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:49.868 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 5.3472ms
2026-01-09 17:14:49.868 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:49.868 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 13.4479ms
2026-01-09 17:14:53.388 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:53.389 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:53.389 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:53.391 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:53.395 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:53.395 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:53.396 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:53.396 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:53.396 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:53.396 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:53.396 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:53.396 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:53.400 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODkzLCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.UK8uZWraqKkg9pk9dq7e1OkqrPOeI-gXIXJQf8KueOg, RefreshToken = Qsqs6kS9Z/dbhsQ6vT4VtiVzB4VEpdMaqzu44vqsz5SHiRHMRPd0NIn0CkCl56baLBjj4wmfWCuoIpRF7UkY9Q== } in 3 ms
2026-01-09 17:14:53.400 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.2472ms.
2026-01-09 17:14:53.400 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:53.401 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.861ms
2026-01-09 17:14:53.401 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:53.401 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.6874ms
2026-01-09 17:14:54.070 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:54.071 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:54.071 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:54.073 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:54.077 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:54.077 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:54.077 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:54.078 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:54.078 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:54.078 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:54.078 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:54.078 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:54.083 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODk0LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.yWST91LimhuHTlJq4rpF92LWzX1dWC-Z0KO_l50y-aY, RefreshToken = wP/OQkndt3PmPZnociTCSs5yIe++h1aVL5henqC09bNplYp/MgYw4bM9BlWXGsZpm0WqfIoY9IBKtjnMWlalLQ== } in 4 ms
2026-01-09 17:14:54.083 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.1846ms.
2026-01-09 17:14:54.083 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:54.083 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 5.781ms
2026-01-09 17:14:54.083 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:54.084 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 13.366ms
2026-01-09 17:14:54.403 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:54.403 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:54.404 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:54.405 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:54.409 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:54.409 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:54.409 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:54.410 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:54.410 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:54.410 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:54.410 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:54.410 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:54.414 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODk0LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.yWST91LimhuHTlJq4rpF92LWzX1dWC-Z0KO_l50y-aY, RefreshToken = +lSuly5C0Bhy3SfZIQrsw25kQ1JK7rMKXyPYu4JqoD/ZV+iloAbY+sGA58LqngPrM+aMIvLo7URDFpGhlRPC5g== } in 3 ms
2026-01-09 17:14:54.414 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.1296ms.
2026-01-09 17:14:54.414 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:54.414 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.64ms
2026-01-09 17:14:54.414 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:54.414 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 11.3657ms
2026-01-09 17:15:28.119 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/json 90
2026-01-09 17:15:28.119 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:28.120 +03:00 [INF] The request was rejected because an invalid 'Content-Type' header was specified: application/json.
2026-01-09 17:15:28.129 +03:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The specified 'Content-Type' header is invalid.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2082"
}.
2026-01-09 17:15:28.129 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 400 175 application/json;charset=UTF-8 10.8382ms
2026-01-09 17:15:32.388 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:32.389 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:32.389 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:32.391 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:32.395 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:32.395 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:32.395 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:32.395 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:32.395 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:32.396 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:32.396 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:32.396 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:32.400 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTMyLCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.Fl74SlnmO1LojV_PMkv6KhC9KX89yXxH3UchN7IQYQ4, RefreshToken = znA6+CmsSwhnYiiFzIEdltIr871AIWhg5NkZ40HsvI/IhjJzHawIHgZDVH9+xQBl+aOWVUO01xeBbC4OO+BJrw== } in 4 ms
2026-01-09 17:15:32.400 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.7261ms.
2026-01-09 17:15:32.400 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:32.401 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 5.536ms
2026-01-09 17:15:32.401 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:32.401 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.907ms
2026-01-09 17:15:37.648 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/json 90
2026-01-09 17:15:37.649 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:37.649 +03:00 [INF] The request was rejected because an invalid 'Content-Type' header was specified: application/json.
2026-01-09 17:15:37.650 +03:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The specified 'Content-Type' header is invalid.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2082"
}.
2026-01-09 17:15:37.650 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 400 175 application/json;charset=UTF-8 2.1609ms
2026-01-09 17:15:38.537 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/json 90
2026-01-09 17:15:38.537 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:38.537 +03:00 [INF] The request was rejected because an invalid 'Content-Type' header was specified: application/json.
2026-01-09 17:15:38.539 +03:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The specified 'Content-Type' header is invalid.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2082"
}.
2026-01-09 17:15:38.539 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 400 175 application/json;charset=UTF-8 2.1437ms
2026-01-09 17:15:41.863 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:41.864 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:41.864 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:41.866 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:41.870 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:41.870 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:41.870 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:41.871 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:41.871 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:41.871 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:41.871 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:41.872 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:41.875 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQxLCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.UChMsQhXqahMxhqneev-aAg46PKeeGU4FB-HRaomJ0s, RefreshToken = Gnd4SOHQEO3zvTkoW4AGbWkJTcYK8IIsKqGhBiJbGoeuKxKB5CcZqmp6Ix+RQnyTTn17Py4crgnh3Q37BXU6jg== } in 4 ms
2026-01-09 17:15:41.876 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.8698ms.
2026-01-09 17:15:41.876 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:41.876 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 5.6325ms
2026-01-09 17:15:41.876 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:41.876 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 13.1074ms
2026-01-09 17:15:42.801 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:42.802 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:42.802 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:42.804 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:42.807 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:42.807 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:42.807 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:42.808 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:42.808 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:42.808 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:42.808 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:42.808 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:42.810 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQyLCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.weLfgaDGp8jPjBZLubxJoomELW5ir8Orkkrc85sjcJE, RefreshToken = mS6eEaKLcw/4xqcAu3Ua7Sgn+NnVWwQmFBE1UkMUhVm6/u3O846ZCJB+CuccIFCci2nWSz7M46n55/FfTBw14A== } in 2 ms
2026-01-09 17:15:42.810 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.1239ms.
2026-01-09 17:15:42.810 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:42.810 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 2.5483ms
2026-01-09 17:15:42.810 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:42.810 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 499 null application/json; charset=utf-8 9.0222ms
2026-01-09 17:15:44.178 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:44.179 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:44.179 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:44.179 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:44.182 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:44.182 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:44.182 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:44.182 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:44.182 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:44.182 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:44.182 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:44.183 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:44.185 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQ0LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.yPNNeRzjH2oTDq0wfCy5QeB-SaqTnpUYHo_4dmFQ1fI, RefreshToken = 5t+cZ/lEp2Tr+4IpTxK1A3lEB/iZmPGa2TPZQryhgsJ4aaNVSEh7tbwOsVXm6XEsFWgTW0iuelWe3HQlGy4lIA== } in 2 ms
2026-01-09 17:15:44.185 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.517ms.
2026-01-09 17:15:44.185 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:44.185 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 2.8711ms
2026-01-09 17:15:44.185 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:44.185 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 6.8943ms
2026-01-09 17:15:44.888 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:44.888 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:44.888 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:44.890 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:44.894 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:44.894 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:44.895 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:44.895 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:44.895 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:44.895 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:44.895 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:44.895 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:44.899 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQ0LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.yPNNeRzjH2oTDq0wfCy5QeB-SaqTnpUYHo_4dmFQ1fI, RefreshToken = 91VeTs/EdsRNsGygwWcQLY3cSYHpQPIFJ4aloOyToajaeVrUtoQqB/4V2+FNoUjB6+ThWf7uEQR10gT8BDmcoA== } in 4 ms
2026-01-09 17:15:44.900 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.6129ms.
2026-01-09 17:15:44.900 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:44.900 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 5.509ms
2026-01-09 17:15:44.900 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:44.900 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.7665ms
2026-01-09 17:15:45.690 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:45.690 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:45.691 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:45.692 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:45.696 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:45.696 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:45.696 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:45.697 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:45.697 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:45.697 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:45.697 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:45.697 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:45.701 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQ1LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.mGIfNSjGhyEsN-ZiLIFuQMRkmCXIKI_7gkEKPdzCM68, RefreshToken = xWm2LbpBbK2y5lM5c/6bkxJUPaZDRX/ya3pePaSDzh1sSDE+ayNy4uSpCzPZmabaBqMZE1BSetfY3CeHDIeL7Q== } in 4 ms
2026-01-09 17:15:45.702 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.933ms.
2026-01-09 17:15:45.702 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:45.702 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 5.4407ms
2026-01-09 17:15:45.702 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:45.702 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.2153ms
2026-01-09 17:15:46.556 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:46.556 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:46.557 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:46.558 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:46.562 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:46.563 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:46.563 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:46.563 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:46.563 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:46.563 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:46.563 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:46.564 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:46.568 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQ2LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.o5UxwxYHv8VkMok6vp0mIIPj38zlMaMwpQ-KQxiRXTg, RefreshToken = Ccfhr+Q6NHlJuyZWA2WOlQuP/hFnA2TmsPrZs0FogClw4XJguVCvSlj8x6tlZitCyqPUYXSRuKqLLHcdxlIT8w== } in 4 ms
2026-01-09 17:15:46.568 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.7301ms.
2026-01-09 17:15:46.568 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:46.568 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 5.2835ms
2026-01-09 17:15:46.568 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:46.568 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.4035ms
2026-01-09 17:15:47.571 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:47.571 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:47.571 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:47.573 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:47.577 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:47.578 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:47.578 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:47.578 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:47.578 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:47.578 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:47.578 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:47.579 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:47.583 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQ3LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9._vcvNFd42pk_V6MBX0MS2cgP67Uv2OQnh26HaBSewRs, RefreshToken = q20/ZA1uHN/355xuXYw7yWSh2s160rT6f1EGZT0Ez5Ap8VzhKG7XURyY3W55s8kZ7Nktj5EdQH/3RK07/TXp/w== } in 4 ms
2026-01-09 17:15:47.583 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.6585ms.
2026-01-09 17:15:47.583 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:47.583 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 5.4332ms
2026-01-09 17:15:47.583 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:47.584 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.9266ms
2026-01-09 17:15:48.401 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:48.402 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:48.402 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:48.404 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:48.408 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:48.408 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:48.408 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:48.409 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:48.409 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:48.409 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:48.409 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:48.409 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:48.413 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQ4LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.mLFINGHZQNkcellz4OPg3xBYKMUkMyr7rEpUfBngybo, RefreshToken = w8esGWRt3XNSNsfML/SV78j9gkvmXhz5cEVmap3zsbWqzOx55BEUGiZtcAcwNTl27N11LIQs7YbMupPZcC32XA== } in 4 ms
2026-01-09 17:15:48.413 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.3242ms.
2026-01-09 17:15:48.413 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:48.413 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.8459ms
2026-01-09 17:15:48.413 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:48.414 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.4521ms
2026-01-09 17:15:49.149 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:49.149 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:49.149 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:49.150 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:49.153 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:49.154 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:49.154 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:49.154 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:49.154 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:49.154 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:49.154 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:49.154 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:49.158 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQ5LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.pBA6tzdigkbFiluuDT0ix2Ili7WqzGahFoFibE_iziE, RefreshToken = 7lx2yL6jtVsabULZ74EcLPunBNop47I50HAnxaUXuOfrjeyMsAloL61kbi4h9mHcXMz+JcLwo1GRKPE53Clblw== } in 3 ms
2026-01-09 17:15:49.158 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.685ms.
2026-01-09 17:15:49.158 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:49.158 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.1311ms
2026-01-09 17:15:49.158 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:49.158 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 9.1255ms
2026-01-09 17:15:49.912 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:49.913 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:49.913 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:49.915 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:49.919 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:49.920 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:49.920 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:49.920 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:49.920 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:49.920 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:49.920 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:49.921 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:49.924 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQ5LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.pBA6tzdigkbFiluuDT0ix2Ili7WqzGahFoFibE_iziE, RefreshToken = UU38T+S2oiWzOEaTJZUQ4rqq0g8w/FGZbgB95Mh6JlXG7vonREVVAbpQ+c92MbM0y7PvaPVSzDfAzCgT/msKbA== } in 4 ms
2026-01-09 17:15:49.924 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.4792ms.
2026-01-09 17:15:49.925 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:49.925 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.9296ms
2026-01-09 17:15:49.925 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:49.925 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.6503ms
2026-01-09 20:33:38.257 +03:00 [INF] Applying database migrations...
2026-01-09 20:33:38.627 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-09 20:33:38.648 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-09 20:33:38.651 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-09 17:33:38.650809+00:00');
SELECT changes();
2026-01-09 20:33:38.677 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-09 20:33:38.682 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-09 20:33:38.684 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-09 20:33:38.687 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-09 20:33:38.688 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-09 20:33:38.689 +03:00 [INF] Database migrations applied successfully
2026-01-09 20:33:38.690 +03:00 [INF] Seeding database...
2026-01-09 20:33:38.791 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2026-01-09 20:33:38.795 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-09 20:33:38.798 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-09 20:33:38.801 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-09 20:33:38.802 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-09 20:33:38.843 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-09 20:33:38.871 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 20:33:38.889 +03:00 [INF] Database seeded successfully
2026-01-09 20:33:38.894 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-09 20:33:39.156 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-09 20:33:39.156 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-09 20:33:39.156 +03:00 [INF] Hosting environment: Development
2026-01-09 20:33:39.156 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
