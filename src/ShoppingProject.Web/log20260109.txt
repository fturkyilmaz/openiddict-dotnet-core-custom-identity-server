2026-01-09 17:02:32.773 +03:00 [INF] Applying database migrations...
2026-01-09 17:02:33.151 +03:00 [ERR] An error occurred migrating the DB. An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at ShoppingProject.Web.Configurations.MiddlewareConfig.MigrateDatabaseAsync(WebApplication app) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Configurations/MiddlewareConfig.cs:line 52
2026-01-09 17:04:15.987 +03:00 [INF] Applying database migrations...
2026-01-09 17:04:16.341 +03:00 [ERR] An error occurred migrating the DB. An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at ShoppingProject.Web.Configurations.MiddlewareConfig.MigrateDatabaseAsync(WebApplication app) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Configurations/MiddlewareConfig.cs:line 52
2026-01-09 17:06:06.264 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-09 17:06:06.297 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-09 17:06:06.301 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-09 14:06:06.300273+00:00');
SELECT changes();
2026-01-09 17:06:06.323 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-09 17:06:06.325 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-09 17:06:06.326 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-09 17:06:06.331 +03:00 [INF] Applying migration '20260109140603_AutoMigration_20260109170600'.
2026-01-09 17:06:06.341 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Users" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Users" PRIMARY KEY,
    "CreatedAt" TEXT NOT NULL,
    "CreatedDate" TEXT NOT NULL,
    "DisplayName" TEXT NOT NULL,
    "Email" TEXT NOT NULL,
    "IsActive" INTEGER NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    "PasswordHash" TEXT NOT NULL,
    "UpdatedAt" TEXT NOT NULL,
    "UpdatedDate" TEXT NULL,
    "UserName" TEXT NOT NULL
);
2026-01-09 17:06:06.341 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Users" ("Id", "CreatedAt", "CreatedDate", "DisplayName", "Email", "IsActive", "IsDeleted", "PasswordHash", "UpdatedAt", "UpdatedDate", "UserName")
SELECT "Id", "CreatedAt", "CreatedDate", "DisplayName", "Email", "IsActive", "IsDeleted", "PasswordHash", "UpdatedAt", "UpdatedDate", "UserName"
FROM "Users";
2026-01-09 17:06:06.342 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2026-01-09 17:06:06.342 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Users";
2026-01-09 17:06:06.343 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Users" RENAME TO "Users";
2026-01-09 17:06:06.343 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2026-01-09 17:06:06.343 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20260109140603_AutoMigration_20260109170600', '10.0.1');
2026-01-09 17:06:06.343 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-09 17:07:05.963 +03:00 [INF] Applying database migrations...
2026-01-09 17:07:06.322 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-09 17:07:06.337 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-09 17:07:06.341 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-09 14:07:06.340427+00:00');
SELECT changes();
2026-01-09 17:07:06.366 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-09 17:07:06.371 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-09 17:07:06.373 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-09 17:07:06.376 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-09 17:07:06.377 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-09 17:07:06.378 +03:00 [INF] Database migrations applied successfully
2026-01-09 17:07:06.379 +03:00 [INF] Seeding database...
2026-01-09 17:07:06.479 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2026-01-09 17:07:06.483 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-09 17:07:06.484 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-09 17:07:06.485 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-09 17:07:06.486 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-09 17:07:06.529 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-09 17:07:06.557 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:07:06.576 +03:00 [INF] Database seeded successfully
2026-01-09 17:07:06.582 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-09 17:07:06.837 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-09 17:07:06.838 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-09 17:07:06.838 +03:00 [INF] Hosting environment: Development
2026-01-09 17:07:06.838 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-09 17:07:11.481 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:07:11.519 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:07:11.525 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:07:11.556 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:07:11.566 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:07:11.581 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:07:11.588 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:07:11.593 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:07:11.598 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:07:11.598 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:07:11.598 +03:00 [INF] Property Password : Password123!
2026-01-09 17:07:11.605 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:07:11.619 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 30.0228ms
2026-01-09 17:07:11.621 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:07:11.625 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Invalid credentials
   at ShoppingProject.UseCases.Users.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/AuthHandlers.cs:line 58
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Token(String username, String password) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-09 17:07:11.629 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 500 null text/plain; charset=utf-8 149.2535ms
2026-01-09 17:07:12.547 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:07:12.551 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:07:12.552 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:07:12.564 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:07:12.569 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:07:12.571 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:07:12.571 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:07:12.572 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:07:12.572 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:07:12.573 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:07:12.573 +03:00 [INF] Property Password : Password123!
2026-01-09 17:07:12.573 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:07:12.574 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 2.663ms
2026-01-09 17:07:12.574 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:07:12.575 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Invalid credentials
   at ShoppingProject.UseCases.Users.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/AuthHandlers.cs:line 58
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Token(String username, String password) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-09 17:07:12.577 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 500 null text/plain; charset=utf-8 29.334ms
2026-01-09 17:07:13.577 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:07:13.582 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:07:13.584 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:07:13.590 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:07:13.597 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:07:13.601 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:07:13.602 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:07:13.602 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:07:13.605 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:07:13.605 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:07:13.605 +03:00 [INF] Property Password : Password123!
2026-01-09 17:07:13.606 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:07:13.606 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.4844ms
2026-01-09 17:07:13.606 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:07:13.607 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Invalid credentials
   at ShoppingProject.UseCases.Users.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/AuthHandlers.cs:line 58
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Token(String username, String password) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-09 17:07:13.608 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 500 null text/plain; charset=utf-8 30.7031ms
2026-01-09 17:08:09.867 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:08:09.869 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:08:09.870 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:08:09.872 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:08:09.877 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:08:09.878 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:08:09.878 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:08:09.879 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:08:09.879 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:08:09.879 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:08:09.879 +03:00 [INF] Property Password : Password123!
2026-01-09 17:08:09.880 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:08:09.881 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 2.5009ms
2026-01-09 17:08:09.881 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:08:09.881 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Invalid credentials
   at ShoppingProject.UseCases.Users.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/AuthHandlers.cs:line 58
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Token(String username, String password) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-09 17:08:09.882 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 500 null text/plain; charset=utf-8 14.8797ms
2026-01-09 17:08:10.684 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:08:10.685 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:08:10.685 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:08:10.687 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:08:10.692 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:08:10.692 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:08:10.693 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:08:10.693 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:08:10.693 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:08:10.693 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:08:10.693 +03:00 [INF] Property Password : Password123!
2026-01-09 17:08:10.694 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:08:10.695 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 1.8307ms
2026-01-09 17:08:10.695 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:08:10.695 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Invalid credentials
   at ShoppingProject.UseCases.Users.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/AuthHandlers.cs:line 58
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Token(String username, String password) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-09 17:08:10.697 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 500 null text/plain; charset=utf-8 12.8557ms
2026-01-09 17:08:15.186 +03:00 [INF] Application is shutting down...
2026-01-09 17:08:22.982 +03:00 [INF] Applying database migrations...
2026-01-09 17:08:23.347 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-09 17:08:23.364 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-09 17:08:23.368 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-09 14:08:23.367329+00:00');
SELECT changes();
2026-01-09 17:08:23.395 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-09 17:08:23.400 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-09 17:08:23.402 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-09 17:08:23.405 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-09 17:08:23.406 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-09 17:08:23.407 +03:00 [INF] Database migrations applied successfully
2026-01-09 17:08:23.408 +03:00 [INF] Seeding database...
2026-01-09 17:08:23.510 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2026-01-09 17:08:23.514 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-09 17:08:23.516 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-09 17:08:23.517 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-09 17:08:23.519 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-09 17:08:23.562 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-09 17:08:23.593 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:08:23.612 +03:00 [INF] Database seeded successfully
2026-01-09 17:08:23.618 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-09 17:08:23.932 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-09 17:08:23.932 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-09 17:08:23.932 +03:00 [INF] Hosting environment: Development
2026-01-09 17:08:23.932 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-09 17:08:26.082 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:08:26.111 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:08:26.118 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:08:26.152 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:08:26.164 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:08:26.179 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:08:26.187 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:08:26.192 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:08:26.198 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:08:26.199 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:08:26.199 +03:00 [INF] Property Password : Password123!
2026-01-09 17:08:26.207 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:08:26.223 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 34.7217ms
2026-01-09 17:08:26.225 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:08:26.228 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Invalid credentials , please try again admin@test.com Password123! nWMLQMe7Et0ZGGC1C9k6AncawVz9YNEpN5W+o8Hhp78=
   at ShoppingProject.UseCases.Users.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/AuthHandlers.cs:line 58
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Token(String username, String password) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-09 17:08:26.234 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 500 null text/plain; charset=utf-8 152.4899ms
2026-01-09 17:14:29.441 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:29.445 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:29.446 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:29.460 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:29.466 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:29.467 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:29.468 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:29.468 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:29.469 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:29.469 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:29.469 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:29.470 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:29.470 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 2.3159ms
2026-01-09 17:14:29.470 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:29.471 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: User not found
   at ShoppingProject.UseCases.Users.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/AuthHandlers.cs:line 55
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Token(String username, String password) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-09 17:14:29.473 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 500 null text/plain; charset=utf-8 32.0218ms
2026-01-09 17:14:30.245 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:30.247 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:30.248 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:30.250 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:30.253 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:30.255 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:30.255 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:30.255 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:30.257 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:30.257 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:30.257 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:30.257 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:30.257 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 2.1094ms
2026-01-09 17:14:30.257 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:30.258 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: User not found
   at ShoppingProject.UseCases.Users.LoginUserHandler.Handle(LoginUserCommand request, CancellationToken cancellationToken) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.UseCases/Users/AuthHandlers.cs:line 55
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, MessageHandlerDelegate`2 next, CancellationToken cancellationToken)
   at ShoppingProject.Web.Controllers.AuthorizationController.Token(String username, String password) in /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web/Controllers/AuthorizationController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-09 17:14:30.258 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 500 null text/plain; charset=utf-8 12.9658ms
2026-01-09 17:14:39.674 +03:00 [INF] Application is shutting down...
2026-01-09 17:14:41.929 +03:00 [INF] Applying database migrations...
2026-01-09 17:14:42.314 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-09 17:14:42.333 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-09 17:14:42.336 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-09 14:14:42.335922+00:00');
SELECT changes();
2026-01-09 17:14:42.364 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-09 17:14:42.369 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-09 17:14:42.371 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-09 17:14:42.374 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-09 17:14:42.375 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-09 17:14:42.378 +03:00 [INF] Database migrations applied successfully
2026-01-09 17:14:42.379 +03:00 [INF] Seeding database...
2026-01-09 17:14:42.487 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2026-01-09 17:14:42.491 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-09 17:14:42.532 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-09 17:14:42.534 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-09 17:14:42.535 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-09 17:14:42.584 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-09 17:14:42.602 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:42.638 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 13), @p4='?' (Size = 14), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 69), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedDate", "DisplayName", "Email", "IsActive", "IsDeleted", "PasswordHash", "UpdatedAt", "UpdatedDate", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2026-01-09 17:14:42.642 +03:00 [INF] Database seeded successfully
2026-01-09 17:14:42.649 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-09 17:14:42.921 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-09 17:14:42.921 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-09 17:14:42.921 +03:00 [INF] Hosting environment: Development
2026-01-09 17:14:42.921 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-09 17:14:43.860 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:43.888 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:43.894 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:43.926 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:43.937 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:43.951 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:43.959 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:43.964 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:43.969 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:43.969 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:43.969 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:43.977 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:43.990 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODgzLCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.uXcF1A356YR2nd5FwUxjNCIDOw2u88W3FYcgDFIW1hw, RefreshToken = 1iEz0C27P3y+/JKFUwttC4zfIFNxEP5IvrPmRgbO0/N4dKtNmNJd5oAiO8N7iY4CtIgFS2Qlgmi8F6l8NJMFDg== } in 20 ms
2026-01-09 17:14:43.991 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.8213ms.
2026-01-09 17:14:43.995 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:44.002 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 42.3994ms
2026-01-09 17:14:44.002 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:44.004 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 145.1342ms
2026-01-09 17:14:45.678 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:45.680 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:45.681 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:45.688 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:45.691 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:45.692 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:45.692 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:45.692 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:45.693 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:45.693 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:45.693 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:45.693 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:45.696 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg1LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.-aacMtqPoJv5UtGi3LVkx0xnBjkvsmOXIL5JkUdPEms, RefreshToken = y0dr3jRvs3NRXhxsjg/dxEyoS34EgXDMmCbMpnPBbD/prU7XNa2WUCzw8UDz2HTRz0v55PffjQslGy1ycoX+WQ== } in 2 ms
2026-01-09 17:14:45.696 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.5228ms.
2026-01-09 17:14:45.696 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:45.696 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.4406ms
2026-01-09 17:14:45.696 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:45.697 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 18.3836ms
2026-01-09 17:14:46.533 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:46.539 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:46.540 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:46.546 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:46.554 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:46.556 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:46.557 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:46.557 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:46.558 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:46.558 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:46.558 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:46.559 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:46.561 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg2LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.gY2HSEDTn9_ahX9dQztSkhHp3d_FuqXtrZfabdaxHng, RefreshToken = WGfCAem5Ok0bqOFb9ZYqAkHpFafxtGdguxitG6kuPbQ2HiHCC4Q18awIeCvSUskepJnKNlEvvisSb+MLV3uXxw== } in 2 ms
2026-01-09 17:14:46.561 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.9335ms.
2026-01-09 17:14:46.561 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:46.561 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.7797ms
2026-01-09 17:14:46.561 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:46.562 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 499 null application/json; charset=utf-8 28.9182ms
2026-01-09 17:14:46.929 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:46.929 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:46.929 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:46.930 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:46.933 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:46.933 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:46.933 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:46.934 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:46.934 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:46.934 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:46.934 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:46.934 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:46.938 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg2LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.gY2HSEDTn9_ahX9dQztSkhHp3d_FuqXtrZfabdaxHng, RefreshToken = jHElUEEn6jN6XilSLVLVYOp7Njmhri5/1p1J+6klnVEasCyZ31M86dmqppbTb4bLbTtU0Nr5TFcWtXACnd64UA== } in 3 ms
2026-01-09 17:14:46.938 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.9155ms.
2026-01-09 17:14:46.938 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:46.938 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.346ms
2026-01-09 17:14:46.938 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:46.938 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 9.5012ms
2026-01-09 17:14:47.265 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:47.265 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:47.266 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:47.266 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:47.268 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:47.268 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:47.268 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:47.269 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:47.269 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:47.269 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:47.269 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:47.269 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:47.271 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg3LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.N6Q3TKKTSz0K-RUgQbc_DR5bXbMKmXMMEyXjNDlvZyc, RefreshToken = jf9jieozq0cocFG5imOYu6t+NmbNuDn9J8LSA7O0vlfgDGGVR5Ks2Jii1BurKknn7dfEJ+7i3a2HnKmUvtJu1A== } in 2 ms
2026-01-09 17:14:47.271 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.1582ms.
2026-01-09 17:14:47.271 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:47.271 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 2.4674ms
2026-01-09 17:14:47.271 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:47.271 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 5.8798ms
2026-01-09 17:14:47.674 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:47.675 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:47.675 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:47.676 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:47.678 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:47.678 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:47.678 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:47.678 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:47.678 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:47.678 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:47.678 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:47.679 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:47.681 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg3LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.N6Q3TKKTSz0K-RUgQbc_DR5bXbMKmXMMEyXjNDlvZyc, RefreshToken = AGwCuJ/WNf9/tAcEWB5IZC9TMtVyxMrbvbj0UMAawdO9C0PhQMUFGtAkVpuC8h2fDsblIbi730PXNdDUjZd2vQ== } in 2 ms
2026-01-09 17:14:47.681 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.9389ms.
2026-01-09 17:14:47.681 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:47.681 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 3.3164ms
2026-01-09 17:14:47.681 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:47.681 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 7.2177ms
2026-01-09 17:14:48.024 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:48.024 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:48.024 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:48.025 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:48.028 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:48.028 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:48.028 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:48.028 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:48.028 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:48.028 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:48.028 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:48.028 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:48.031 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg4LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.T27IlC3YPPGZhFBM3ghstxUiIjz-v3zXNpPOMGJ3G8A, RefreshToken = Crk5GtM9Oxku7fXaoLZwyNvzuUHfH+QgUSZwqvesrWaeILslgz+2X22HkP2IbotWSWpOWYBsJ1Mk14jAiw2PHg== } in 2 ms
2026-01-09 17:14:48.031 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.6645ms.
2026-01-09 17:14:48.031 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:48.031 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 3.0182ms
2026-01-09 17:14:48.031 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:48.031 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 7.1077ms
2026-01-09 17:14:48.339 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:48.340 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:48.341 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:48.343 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:48.347 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:48.347 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:48.347 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:48.347 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:48.348 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:48.348 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:48.348 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:48.348 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:48.353 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg4LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.T27IlC3YPPGZhFBM3ghstxUiIjz-v3zXNpPOMGJ3G8A, RefreshToken = 4Hl1K53o1wps+LPEdKDHSdR+ECaI4XGynNmYiDMPTo3anwxO5pKw6fcJEi9Y9+7vkmjykok9fkZ0yPFUFc+cBQ== } in 5 ms
2026-01-09 17:14:48.353 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.7955ms.
2026-01-09 17:14:48.353 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:48.354 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 6.3929ms
2026-01-09 17:14:48.354 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:48.354 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 14.4313ms
2026-01-09 17:14:48.884 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:48.885 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:48.885 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:48.888 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:48.891 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:48.892 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:48.892 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:48.892 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:48.892 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:48.892 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:48.892 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:48.893 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:48.896 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg4LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.T27IlC3YPPGZhFBM3ghstxUiIjz-v3zXNpPOMGJ3G8A, RefreshToken = 2scPv9huB+UtHKNFYzyILQsfyhb7sDU642uA0EaEA6Ff1feXFIBDYj0Ku1euOB6aUKyiZsMaFjbJPIUscPHUKA== } in 3 ms
2026-01-09 17:14:48.896 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.7189ms.
2026-01-09 17:14:48.896 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:48.896 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.3107ms
2026-01-09 17:14:48.896 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:48.896 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.4859ms
2026-01-09 17:14:49.854 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:49.855 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:49.855 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:49.857 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:49.862 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:49.862 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:49.862 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:49.862 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:49.863 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:49.863 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:49.863 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:49.863 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:49.867 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODg5LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.aGhHTvkAvZHVadykk0KyyRfOKB2gRele5077b2BFW1o, RefreshToken = EdgDXNr0s5W28szHUpmIcDYy5fcpApIZCQZXGeVWpfQUJ9+XDUvaiLpqPMrvgpfC0SaSI4inHfI3U5gDtuZqzw== } in 4 ms
2026-01-09 17:14:49.867 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.6309ms.
2026-01-09 17:14:49.867 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:49.868 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 5.3472ms
2026-01-09 17:14:49.868 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:49.868 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 13.4479ms
2026-01-09 17:14:53.388 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:53.389 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:53.389 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:53.391 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:53.395 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:53.395 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:53.396 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:53.396 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:53.396 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:53.396 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:53.396 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:53.396 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:53.400 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODkzLCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.UK8uZWraqKkg9pk9dq7e1OkqrPOeI-gXIXJQf8KueOg, RefreshToken = Qsqs6kS9Z/dbhsQ6vT4VtiVzB4VEpdMaqzu44vqsz5SHiRHMRPd0NIn0CkCl56baLBjj4wmfWCuoIpRF7UkY9Q== } in 3 ms
2026-01-09 17:14:53.400 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.2472ms.
2026-01-09 17:14:53.400 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:53.401 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.861ms
2026-01-09 17:14:53.401 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:53.401 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.6874ms
2026-01-09 17:14:54.070 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:54.071 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:54.071 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:54.073 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:54.077 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:54.077 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:54.077 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:54.078 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:54.078 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:54.078 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:54.078 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:54.078 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:54.083 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODk0LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.yWST91LimhuHTlJq4rpF92LWzX1dWC-Z0KO_l50y-aY, RefreshToken = wP/OQkndt3PmPZnociTCSs5yIe++h1aVL5henqC09bNplYp/MgYw4bM9BlWXGsZpm0WqfIoY9IBKtjnMWlalLQ== } in 4 ms
2026-01-09 17:14:54.083 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.1846ms.
2026-01-09 17:14:54.083 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:54.083 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 5.781ms
2026-01-09 17:14:54.083 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:54.084 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 13.366ms
2026-01-09 17:14:54.403 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:14:54.403 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:14:54.404 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:14:54.405 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:14:54.409 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:14:54.409 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:54.409 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:14:54.410 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:14:54.410 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:14:54.410 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:14:54.410 +03:00 [INF] Property Password : Password123!
2026-01-09 17:14:54.410 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:14:54.414 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5ODk0LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.yWST91LimhuHTlJq4rpF92LWzX1dWC-Z0KO_l50y-aY, RefreshToken = +lSuly5C0Bhy3SfZIQrsw25kQ1JK7rMKXyPYu4JqoD/ZV+iloAbY+sGA58LqngPrM+aMIvLo7URDFpGhlRPC5g== } in 3 ms
2026-01-09 17:14:54.414 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.1296ms.
2026-01-09 17:14:54.414 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:14:54.414 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.64ms
2026-01-09 17:14:54.414 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:14:54.414 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 11.3657ms
2026-01-09 17:15:28.119 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/json 90
2026-01-09 17:15:28.119 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:28.120 +03:00 [INF] The request was rejected because an invalid 'Content-Type' header was specified: application/json.
2026-01-09 17:15:28.129 +03:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The specified 'Content-Type' header is invalid.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2082"
}.
2026-01-09 17:15:28.129 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 400 175 application/json;charset=UTF-8 10.8382ms
2026-01-09 17:15:32.388 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:32.389 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:32.389 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:32.391 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:32.395 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:32.395 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:32.395 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:32.395 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:32.395 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:32.396 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:32.396 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:32.396 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:32.400 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTMyLCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.Fl74SlnmO1LojV_PMkv6KhC9KX89yXxH3UchN7IQYQ4, RefreshToken = znA6+CmsSwhnYiiFzIEdltIr871AIWhg5NkZ40HsvI/IhjJzHawIHgZDVH9+xQBl+aOWVUO01xeBbC4OO+BJrw== } in 4 ms
2026-01-09 17:15:32.400 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.7261ms.
2026-01-09 17:15:32.400 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:32.401 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 5.536ms
2026-01-09 17:15:32.401 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:32.401 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.907ms
2026-01-09 17:15:37.648 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/json 90
2026-01-09 17:15:37.649 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:37.649 +03:00 [INF] The request was rejected because an invalid 'Content-Type' header was specified: application/json.
2026-01-09 17:15:37.650 +03:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The specified 'Content-Type' header is invalid.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2082"
}.
2026-01-09 17:15:37.650 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 400 175 application/json;charset=UTF-8 2.1609ms
2026-01-09 17:15:38.537 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/json 90
2026-01-09 17:15:38.537 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:38.537 +03:00 [INF] The request was rejected because an invalid 'Content-Type' header was specified: application/json.
2026-01-09 17:15:38.539 +03:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The specified 'Content-Type' header is invalid.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2082"
}.
2026-01-09 17:15:38.539 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 400 175 application/json;charset=UTF-8 2.1437ms
2026-01-09 17:15:41.863 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:41.864 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:41.864 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:41.866 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:41.870 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:41.870 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:41.870 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:41.871 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:41.871 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:41.871 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:41.871 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:41.872 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:41.875 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQxLCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.UChMsQhXqahMxhqneev-aAg46PKeeGU4FB-HRaomJ0s, RefreshToken = Gnd4SOHQEO3zvTkoW4AGbWkJTcYK8IIsKqGhBiJbGoeuKxKB5CcZqmp6Ix+RQnyTTn17Py4crgnh3Q37BXU6jg== } in 4 ms
2026-01-09 17:15:41.876 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.8698ms.
2026-01-09 17:15:41.876 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:41.876 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 5.6325ms
2026-01-09 17:15:41.876 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:41.876 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 13.1074ms
2026-01-09 17:15:42.801 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:42.802 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:42.802 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:42.804 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:42.807 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:42.807 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:42.807 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:42.808 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:42.808 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:42.808 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:42.808 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:42.808 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:42.810 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQyLCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.weLfgaDGp8jPjBZLubxJoomELW5ir8Orkkrc85sjcJE, RefreshToken = mS6eEaKLcw/4xqcAu3Ua7Sgn+NnVWwQmFBE1UkMUhVm6/u3O846ZCJB+CuccIFCci2nWSz7M46n55/FfTBw14A== } in 2 ms
2026-01-09 17:15:42.810 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.1239ms.
2026-01-09 17:15:42.810 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:42.810 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 2.5483ms
2026-01-09 17:15:42.810 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:42.810 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 499 null application/json; charset=utf-8 9.0222ms
2026-01-09 17:15:44.178 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:44.179 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:44.179 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:44.179 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:44.182 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:44.182 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:44.182 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:44.182 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:44.182 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:44.182 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:44.182 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:44.183 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:44.185 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQ0LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.yPNNeRzjH2oTDq0wfCy5QeB-SaqTnpUYHo_4dmFQ1fI, RefreshToken = 5t+cZ/lEp2Tr+4IpTxK1A3lEB/iZmPGa2TPZQryhgsJ4aaNVSEh7tbwOsVXm6XEsFWgTW0iuelWe3HQlGy4lIA== } in 2 ms
2026-01-09 17:15:44.185 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.517ms.
2026-01-09 17:15:44.185 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:44.185 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 2.8711ms
2026-01-09 17:15:44.185 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:44.185 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 6.8943ms
2026-01-09 17:15:44.888 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:44.888 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:44.888 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:44.890 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:44.894 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:44.894 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:44.895 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:44.895 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:44.895 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:44.895 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:44.895 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:44.895 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:44.899 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQ0LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.yPNNeRzjH2oTDq0wfCy5QeB-SaqTnpUYHo_4dmFQ1fI, RefreshToken = 91VeTs/EdsRNsGygwWcQLY3cSYHpQPIFJ4aloOyToajaeVrUtoQqB/4V2+FNoUjB6+ThWf7uEQR10gT8BDmcoA== } in 4 ms
2026-01-09 17:15:44.900 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.6129ms.
2026-01-09 17:15:44.900 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:44.900 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 5.509ms
2026-01-09 17:15:44.900 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:44.900 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.7665ms
2026-01-09 17:15:45.690 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:45.690 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:45.691 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:45.692 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:45.696 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:45.696 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:45.696 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:45.697 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:45.697 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:45.697 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:45.697 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:45.697 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:45.701 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQ1LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.mGIfNSjGhyEsN-ZiLIFuQMRkmCXIKI_7gkEKPdzCM68, RefreshToken = xWm2LbpBbK2y5lM5c/6bkxJUPaZDRX/ya3pePaSDzh1sSDE+ayNy4uSpCzPZmabaBqMZE1BSetfY3CeHDIeL7Q== } in 4 ms
2026-01-09 17:15:45.702 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.933ms.
2026-01-09 17:15:45.702 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:45.702 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 5.4407ms
2026-01-09 17:15:45.702 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:45.702 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.2153ms
2026-01-09 17:15:46.556 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:46.556 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:46.557 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:46.558 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:46.562 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:46.563 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:46.563 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:46.563 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:46.563 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:46.563 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:46.563 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:46.564 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:46.568 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQ2LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.o5UxwxYHv8VkMok6vp0mIIPj38zlMaMwpQ-KQxiRXTg, RefreshToken = Ccfhr+Q6NHlJuyZWA2WOlQuP/hFnA2TmsPrZs0FogClw4XJguVCvSlj8x6tlZitCyqPUYXSRuKqLLHcdxlIT8w== } in 4 ms
2026-01-09 17:15:46.568 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.7301ms.
2026-01-09 17:15:46.568 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:46.568 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 5.2835ms
2026-01-09 17:15:46.568 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:46.568 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.4035ms
2026-01-09 17:15:47.571 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:47.571 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:47.571 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:47.573 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:47.577 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:47.578 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:47.578 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:47.578 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:47.578 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:47.578 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:47.578 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:47.579 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:47.583 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQ3LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9._vcvNFd42pk_V6MBX0MS2cgP67Uv2OQnh26HaBSewRs, RefreshToken = q20/ZA1uHN/355xuXYw7yWSh2s160rT6f1EGZT0Ez5Ap8VzhKG7XURyY3W55s8kZ7Nktj5EdQH/3RK07/TXp/w== } in 4 ms
2026-01-09 17:15:47.583 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.6585ms.
2026-01-09 17:15:47.583 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:47.583 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 5.4332ms
2026-01-09 17:15:47.583 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:47.584 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.9266ms
2026-01-09 17:15:48.401 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:48.402 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:48.402 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:48.404 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:48.408 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:48.408 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:48.408 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:48.409 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:48.409 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:48.409 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:48.409 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:48.409 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:48.413 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQ4LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.mLFINGHZQNkcellz4OPg3xBYKMUkMyr7rEpUfBngybo, RefreshToken = w8esGWRt3XNSNsfML/SV78j9gkvmXhz5cEVmap3zsbWqzOx55BEUGiZtcAcwNTl27N11LIQs7YbMupPZcC32XA== } in 4 ms
2026-01-09 17:15:48.413 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.3242ms.
2026-01-09 17:15:48.413 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:48.413 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.8459ms
2026-01-09 17:15:48.413 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:48.414 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.4521ms
2026-01-09 17:15:49.149 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:49.149 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:49.149 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:49.150 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:49.153 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:49.154 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:49.154 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:49.154 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:49.154 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:49.154 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:49.154 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:49.154 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:49.158 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQ5LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.pBA6tzdigkbFiluuDT0ix2Ili7WqzGahFoFibE_iziE, RefreshToken = 7lx2yL6jtVsabULZ74EcLPunBNop47I50HAnxaUXuOfrjeyMsAloL61kbi4h9mHcXMz+JcLwo1GRKPE53Clblw== } in 3 ms
2026-01-09 17:15:49.158 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.685ms.
2026-01-09 17:15:49.158 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:49.158 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.1311ms
2026-01-09 17:15:49.158 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:49.158 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 9.1255ms
2026-01-09 17:15:49.912 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 17:15:49.913 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 17:15:49.913 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 17:15:49.915 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 17:15:49.919 +03:00 [INF] The token request was successfully validated.
2026-01-09 17:15:49.920 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:49.920 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 17:15:49.920 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 17:15:49.920 +03:00 [INF] Handling LoginUserCommand
2026-01-09 17:15:49.920 +03:00 [INF] Property Email : admin@test.com
2026-01-09 17:15:49.920 +03:00 [INF] Property Password : Password123!
2026-01-09 17:15:49.921 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 17:15:49.924 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTY5OTQ5LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.pBA6tzdigkbFiluuDT0ix2Ili7WqzGahFoFibE_iziE, RefreshToken = UU38T+S2oiWzOEaTJZUQ4rqq0g8w/FGZbgB95Mh6JlXG7vonREVVAbpQ+c92MbM0y7PvaPVSzDfAzCgT/msKbA== } in 4 ms
2026-01-09 17:15:49.924 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.4792ms.
2026-01-09 17:15:49.925 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 17:15:49.925 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 4.9296ms
2026-01-09 17:15:49.925 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 17:15:49.925 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 12.6503ms
2026-01-09 20:33:38.257 +03:00 [INF] Applying database migrations...
2026-01-09 20:33:38.627 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-09 20:33:38.648 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-09 20:33:38.651 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-09 17:33:38.650809+00:00');
SELECT changes();
2026-01-09 20:33:38.677 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-09 20:33:38.682 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-09 20:33:38.684 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-09 20:33:38.687 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-09 20:33:38.688 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-09 20:33:38.689 +03:00 [INF] Database migrations applied successfully
2026-01-09 20:33:38.690 +03:00 [INF] Seeding database...
2026-01-09 20:33:38.791 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2026-01-09 20:33:38.795 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-09 20:33:38.798 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-09 20:33:38.801 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-09 20:33:38.802 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-09 20:33:38.843 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-09 20:33:38.871 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 20:33:38.889 +03:00 [INF] Database seeded successfully
2026-01-09 20:33:38.894 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-09 20:33:39.156 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-09 20:33:39.156 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-09 20:33:39.156 +03:00 [INF] Hosting environment: Development
2026-01-09 20:33:39.156 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-09 20:41:24.616 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/json 90
2026-01-09 20:41:24.654 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 20:41:24.655 +03:00 [INF] The request was rejected because an invalid 'Content-Type' header was specified: application/json.
2026-01-09 20:41:24.661 +03:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The specified 'Content-Type' header is invalid.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2082"
}.
2026-01-09 20:41:24.664 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 400 175 application/json;charset=UTF-8 49.4803ms
2026-01-09 20:41:29.600 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 20:41:29.611 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 20:41:29.615 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 20:41:29.669 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 20:41:29.681 +03:00 [INF] The token request was successfully validated.
2026-01-09 20:41:29.696 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 20:41:29.704 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 20:41:29.711 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 20:41:29.721 +03:00 [INF] Handling LoginUserCommand
2026-01-09 20:41:29.722 +03:00 [INF] Property Email : admin@test.com
2026-01-09 20:41:29.722 +03:00 [INF] Property Password : Password123!
2026-01-09 20:41:29.730 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 20:41:29.753 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTgyMjg5LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.9x8aqZJVe-6zKWYY-ce6QnZNu5LI3NTPK43vAcREwoA, RefreshToken = vzG/SAutjD48ekRgY6dkj4II/0dWXgDVTX+E0tLOHA/ClZ+yiHUH3w48slJgi0FzH7SoKSjkTdYD/V1i2Kvt/A== } in 30 ms
2026-01-09 20:41:29.755 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 38.5512ms.
2026-01-09 20:41:29.756 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 20:41:29.763 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 56.1307ms
2026-01-09 20:41:29.763 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 20:41:29.765 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 164.7661ms
2026-01-09 20:41:41.655 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 20:41:41.677 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 20:41:41.679 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 20:41:41.684 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The specified token is invalid.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2004"
}.
2026-01-09 20:41:41.684 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 20:41:41.684 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 29.1981ms
2026-01-09 20:41:50.865 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 20:41:50.871 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 20:41:50.873 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 20:41:50.874 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The specified token is invalid.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2004"
}.
2026-01-09 20:41:50.874 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 20:41:50.874 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 8.6624ms
2026-01-09 20:41:55.251 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 20:41:55.255 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 20:41:55.256 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 20:41:55.257 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The specified token is invalid.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2004"
}.
2026-01-09 20:41:55.257 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 20:41:55.257 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 5.9982ms
2026-01-09 20:41:58.753 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 20:41:58.754 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 20:41:58.757 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 20:41:58.766 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 20:41:58.771 +03:00 [INF] The token request was successfully validated.
2026-01-09 20:41:58.772 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 20:41:58.772 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 20:41:58.773 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 20:41:58.774 +03:00 [INF] Handling LoginUserCommand
2026-01-09 20:41:58.774 +03:00 [INF] Property Email : admin@test.com
2026-01-09 20:41:58.774 +03:00 [INF] Property Password : Password123!
2026-01-09 20:41:58.775 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 20:41:58.778 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTgyMzE4LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.E0dX475XmKW0WcVETlRTsGPRjQ-eqOjdx1SxwxsZliE, RefreshToken = LjlxmeRDAdaBiRImH2sW3QOsQd4Wi7OAuiDl3N0ch/0rK8b4iTywKPWHhH1UC8ILQtEhGR3eHHft/EuWX58nxQ== } in 4 ms
2026-01-09 20:41:58.778 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.4455ms.
2026-01-09 20:41:58.779 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 20:41:58.779 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 6.6801ms
2026-01-09 20:41:58.779 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 20:41:58.779 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 26.1641ms
2026-01-09 20:42:05.552 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 20:42:05.553 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 20:42:05.554 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 20:42:05.554 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The specified token is invalid.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2004"
}.
2026-01-09 20:42:05.554 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 20:42:05.554 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 2.9444ms
2026-01-09 20:42:24.416 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 20:42:24.433 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 20:42:24.433 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 20:42:24.434 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 20:42:24.434 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 20:42:24.434 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 18.5025ms
2026-01-09 20:42:29.517 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 20:42:29.518 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 20:42:29.519 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 20:42:29.526 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 20:42:29.534 +03:00 [INF] The token request was successfully validated.
2026-01-09 20:42:29.535 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 20:42:29.535 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 20:42:29.535 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 20:42:29.543 +03:00 [INF] Handling LoginUserCommand
2026-01-09 20:42:29.543 +03:00 [INF] Property Email : admin@test.com
2026-01-09 20:42:29.543 +03:00 [INF] Property Password : Password123!
2026-01-09 20:42:29.544 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 20:42:29.546 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTgyMzQ5LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.XDGPW0k9J3xGGBKmbC_F9hdHJOFJjIPgDtUN7yMZ8to, RefreshToken = +tS13pO2dfiUbLH/c5+l5tz4resPTatbl7aqemA5F6L/H0UgmgxIMwUiXli2ZW9MA48Os80j6l+eAJXG9Gs2pg== } in 3 ms
2026-01-09 20:42:29.546 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.7494ms.
2026-01-09 20:42:29.546 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 20:42:29.547 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 11.4946ms
2026-01-09 20:42:29.547 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 20:42:29.547 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 29.7099ms
2026-01-09 20:42:33.196 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 20:42:33.197 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 20:42:33.198 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 20:42:33.198 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 20:42:33.198 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 20:42:33.198 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 2.5016ms
2026-01-09 20:42:34.474 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 20:42:34.475 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 20:42:34.475 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 20:42:34.476 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 20:42:34.476 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 20:42:34.476 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 2.4355ms
2026-01-09 20:42:58.673 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 20:42:58.675 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 20:42:58.675 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 20:42:58.675 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 20:42:58.675 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 20:42:58.676 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 3.1497ms
2026-01-09 21:18:22.271 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 21:18:22.272 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 21:18:22.273 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 21:18:22.273 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 21:18:22.273 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 21:18:22.273 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 2.6278ms
2026-01-09 21:18:23.029 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 21:18:23.030 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 21:18:23.030 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 21:18:23.031 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 21:18:23.031 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 21:18:23.031 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 2.179ms
2026-01-09 21:20:37.036 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 21:20:37.038 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 21:20:37.038 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 21:20:37.039 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 21:20:37.039 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 21:20:37.039 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 2.6158ms
2026-01-09 21:20:37.960 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 21:20:37.962 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 21:20:37.962 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 21:20:37.962 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 21:20:37.962 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 21:20:37.963 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 2.4509ms
2026-01-09 21:20:40.695 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/json 90
2026-01-09 21:20:40.696 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 21:20:40.696 +03:00 [INF] The request was rejected because an invalid 'Content-Type' header was specified: application/json.
2026-01-09 21:20:40.697 +03:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The specified 'Content-Type' header is invalid.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2082"
}.
2026-01-09 21:20:40.698 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 400 175 application/json;charset=UTF-8 2.7618ms
2026-01-09 21:20:44.437 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 21:20:44.440 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 21:20:44.441 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 21:20:44.444 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 21:20:44.457 +03:00 [INF] The token request was successfully validated.
2026-01-09 21:20:44.458 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 21:20:44.460 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 21:20:44.460 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 21:20:44.460 +03:00 [INF] Handling LoginUserCommand
2026-01-09 21:20:44.460 +03:00 [INF] Property Email : admin@test.com
2026-01-09 21:20:44.460 +03:00 [INF] Property Password : Password123!
2026-01-09 21:20:44.461 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 21:20:44.463 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTg0NjQ0LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.bFNYwy8dGc0I5vujEC862qmEGhL3_TLuwRJn6BBrx4U, RefreshToken = ie8RahX8bPZxGdr+io3/5mRuSEjlpSqNGlyURITQ9OzlphKBfp+V9t29lT06QasXSf1M52HPGlVpoqJwPqqGaA== } in 3 ms
2026-01-09 21:20:44.463 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.2719ms.
2026-01-09 21:20:44.464 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 21:20:44.464 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 3.9727ms
2026-01-09 21:20:44.464 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 21:20:44.464 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 26.77ms
2026-01-09 21:20:46.955 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 21:20:46.957 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 21:20:46.957 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 21:20:46.957 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 21:20:46.957 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 21:20:46.958 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 2.0938ms
2026-01-09 21:20:47.747 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 21:20:47.748 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 21:20:47.748 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 21:20:47.748 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 21:20:47.749 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 21:20:47.749 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 2.1747ms
2026-01-09 21:21:05.870 +03:00 [INF] Application is shutting down...
2026-01-09 21:56:04.759 +03:00 [INF] Applying database migrations...
2026-01-09 21:56:05.165 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-09 21:56:05.188 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-09 21:56:05.192 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-09 18:56:05.190803+00:00');
SELECT changes();
2026-01-09 21:56:05.219 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-09 21:56:05.225 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-09 21:56:05.228 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-09 21:56:05.231 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-09 21:56:05.232 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-09 21:56:05.233 +03:00 [INF] Database migrations applied successfully
2026-01-09 21:56:05.234 +03:00 [INF] Seeding database...
2026-01-09 21:56:05.342 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2026-01-09 21:56:05.346 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-09 21:56:05.347 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-09 21:56:05.348 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-09 21:56:05.349 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-09 21:56:05.394 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-09 21:56:05.424 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 21:56:05.441 +03:00 [INF] Database seeded successfully
2026-01-09 21:56:05.448 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-09 21:56:05.716 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-09 21:56:05.716 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-09 21:56:05.716 +03:00 [INF] Hosting environment: Development
2026-01-09 21:56:05.716 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-09 21:56:14.344 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 21:56:14.411 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 21:56:14.412 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 21:56:14.418 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 21:56:14.418 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 21:56:14.418 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 75.0139ms
2026-01-09 21:56:16.905 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 21:56:16.911 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 21:56:16.918 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 21:56:16.965 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 21:56:16.977 +03:00 [INF] The token request was successfully validated.
2026-01-09 21:56:16.984 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 21:56:16.992 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 21:56:16.997 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 21:56:17.003 +03:00 [INF] Handling LoginUserCommand
2026-01-09 21:56:17.004 +03:00 [INF] Property Email : admin@test.com
2026-01-09 21:56:17.004 +03:00 [INF] Property Password : Password123!
2026-01-09 21:56:17.012 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 21:56:17.033 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTg2Nzc3LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.1ls7OJAe3UuiWRbmxM1y9TKMvxRG7_rFUMeok4sE4kY, RefreshToken = M6ZWCvQvUywEXLG5ytevVNiqbC79LdAcMDQZu0/B1EHlKBWnuTXSfiRO7KbE4EnRdhEQpvq1IJyio1YkFEC8tg== } in 29 ms
2026-01-09 21:56:17.035 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36.2437ms.
2026-01-09 21:56:17.036 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 21:56:17.042 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 49.0766ms
2026-01-09 21:56:17.042 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 21:56:17.044 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 139.2277ms
2026-01-09 21:56:20.248 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 21:56:20.257 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 21:56:20.258 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 21:56:20.259 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 21:56:20.259 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 21:56:20.259 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 11.4314ms
2026-01-09 21:56:21.208 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 21:56:21.210 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 21:56:21.212 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 21:56:21.212 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 21:56:21.212 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 21:56:21.212 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 4.5257ms
2026-01-09 21:56:21.539 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 21:56:21.540 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 21:56:21.540 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 21:56:21.540 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 21:56:21.540 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 21:56:21.540 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 1.5822ms
2026-01-09 21:56:22.507 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 21:56:22.509 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 21:56:22.509 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 21:56:22.509 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 21:56:22.509 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 21:56:22.509 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 1.9843ms
2026-01-09 21:56:22.780 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 21:56:22.782 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 21:56:22.782 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 21:56:22.782 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 21:56:22.782 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 21:56:22.783 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 2.5192ms
2026-01-09 21:57:28.821 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 21:57:28.823 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 21:57:28.823 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 21:57:28.823 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 21:57:28.824 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 21:57:28.824 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 2.7635ms
2026-01-09 21:58:38.773 +03:00 [INF] Application is shutting down...
2026-01-09 21:58:46.712 +03:00 [INF] Applying database migrations...
2026-01-09 21:58:47.068 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-09 21:58:47.085 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-09 21:58:47.089 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-09 18:58:47.088358+00:00');
SELECT changes();
2026-01-09 21:58:47.116 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-09 21:58:47.122 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-09 21:58:47.124 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-09 21:58:47.128 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-09 21:58:47.129 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-09 21:58:47.131 +03:00 [INF] Database migrations applied successfully
2026-01-09 21:58:47.132 +03:00 [INF] Seeding database...
2026-01-09 21:58:47.235 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2026-01-09 21:58:47.239 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-09 21:58:47.240 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-09 21:58:47.242 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-09 21:58:47.243 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-09 21:58:47.288 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-09 21:58:47.319 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 21:58:47.338 +03:00 [INF] Database seeded successfully
2026-01-09 21:58:47.344 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-09 21:58:47.621 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-09 21:58:47.621 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-09 21:58:47.621 +03:00 [INF] Hosting environment: Development
2026-01-09 21:58:47.621 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-09 21:58:51.243 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 21:58:51.300 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 21:58:51.302 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 21:58:51.308 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 21:58:51.308 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 21:58:51.309 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 66.7179ms
2026-01-09 21:58:54.781 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 21:58:54.788 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 21:58:54.794 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 21:58:54.844 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 21:58:54.856 +03:00 [INF] The token request was successfully validated.
2026-01-09 21:58:54.863 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 21:58:54.870 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 21:58:54.876 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 21:58:54.882 +03:00 [INF] Handling LoginUserCommand
2026-01-09 21:58:54.882 +03:00 [INF] Property Email : admin@test.com
2026-01-09 21:58:54.882 +03:00 [INF] Property Password : Password123!
2026-01-09 21:58:54.890 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 21:58:54.909 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTg2OTM0LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.Ns_P2qM8fIvYnCczNjhyTr0_05TBPS87CNoUZMqEZcw, RefreshToken = tqxI0Ah+BQwWnTEBoglO374VTg294wNS/HvSocqxZ7SFB2bQqak6CuoX9Oh9zeSS6UOkxiviyfNb0u1iBdHYoQ== } in 26 ms
2026-01-09 21:58:54.911 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 33.8358ms.
2026-01-09 21:58:54.912 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 21:58:54.918 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 46.2705ms
2026-01-09 21:58:54.918 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 21:58:54.920 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 138.4725ms
2026-01-09 21:58:57.930 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 21:58:57.940 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 21:58:57.941 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 21:58:57.942 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 21:58:57.942 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 21:58:57.942 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 11.8259ms
2026-01-09 21:59:01.290 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 21:59:01.292 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 21:59:01.294 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 21:59:01.294 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 21:59:01.294 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 21:59:01.295 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 4.7322ms
2026-01-09 21:59:01.584 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 21:59:01.585 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 21:59:01.585 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 21:59:01.585 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 21:59:01.585 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 21:59:01.585 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 1.3432ms
2026-01-09 22:00:34.284 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 22:00:34.286 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 22:00:34.287 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 22:00:34.301 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 22:00:34.306 +03:00 [INF] The token request was successfully validated.
2026-01-09 22:00:34.307 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 22:00:34.311 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 22:00:34.311 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 22:00:34.312 +03:00 [INF] Handling LoginUserCommand
2026-01-09 22:00:34.313 +03:00 [INF] Property Email : admin@test.com
2026-01-09 22:00:34.313 +03:00 [INF] Property Password : Password123!
2026-01-09 22:00:34.313 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 22:00:34.317 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTg3MDM0LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.n6Vg0Aq62WKRzrf48MkeL3oQ3vvgTUW7jgrKwHSK824, RefreshToken = I5ehPZu9C3if9Hv2ua7C+SzTmmdtZghOXo8vDF2mPoHzBWc6B9aZzFPJ2dOICpl9dQyGlEO7vW8lvVZagYX1/g== } in 4 ms
2026-01-09 22:00:34.317 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.4669ms.
2026-01-09 22:00:34.317 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 22:00:34.318 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 7.1605ms
2026-01-09 22:00:34.318 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 22:00:34.318 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 34.0512ms
2026-01-09 22:00:34.993 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 22:00:34.999 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 22:00:35.001 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 22:00:35.007 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 22:00:35.015 +03:00 [INF] The token request was successfully validated.
2026-01-09 22:00:35.016 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 22:00:35.016 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 22:00:35.016 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 22:00:35.022 +03:00 [INF] Handling LoginUserCommand
2026-01-09 22:00:35.022 +03:00 [INF] Property Email : admin@test.com
2026-01-09 22:00:35.022 +03:00 [INF] Property Password : Password123!
2026-01-09 22:00:35.023 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 22:00:35.025 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTg3MDM1LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.fm8UbwhaamEiWHEtj07T6aXNbLvFtrGJ3CfIPGMwfro, RefreshToken = Mhl9kWWkVMTF6cNiFZeKMAFHtWLaVxJhY1Pr8PJRhfGfi+S+0zZkuFG3eLlCoFheMmiElYZARrOs4JVdTlVlMQ== } in 2 ms
2026-01-09 22:00:35.025 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.1395ms.
2026-01-09 22:00:35.025 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 22:00:35.025 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 8.4932ms
2026-01-09 22:00:35.025 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 22:00:35.025 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 31.6067ms
2026-01-09 22:00:35.314 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 22:00:35.315 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 22:00:35.315 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 22:00:35.316 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 22:00:35.318 +03:00 [INF] The token request was successfully validated.
2026-01-09 22:00:35.318 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 22:00:35.318 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 22:00:35.319 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 22:00:35.319 +03:00 [INF] Handling LoginUserCommand
2026-01-09 22:00:35.319 +03:00 [INF] Property Email : admin@test.com
2026-01-09 22:00:35.319 +03:00 [INF] Property Password : Password123!
2026-01-09 22:00:35.319 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 22:00:35.321 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTg3MDM1LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.fm8UbwhaamEiWHEtj07T6aXNbLvFtrGJ3CfIPGMwfro, RefreshToken = aC+o96OpFJ84cGozWRYZi7aD5YBVxojJDBlTbp8YQR0fQeIHgQT5rvIf0WX9GlGIYmkmJoUvOmJ5lv+69p8l6g== } in 2 ms
2026-01-09 22:00:35.321 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.5778ms.
2026-01-09 22:00:35.321 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 22:00:35.321 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 2.9101ms
2026-01-09 22:00:35.321 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 22:00:35.321 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 7.1895ms
2026-01-09 22:00:35.650 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 22:00:35.650 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 22:00:35.650 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 22:00:35.651 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 22:00:35.654 +03:00 [INF] The token request was successfully validated.
2026-01-09 22:00:35.654 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 22:00:35.654 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 22:00:35.654 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 22:00:35.654 +03:00 [INF] Handling LoginUserCommand
2026-01-09 22:00:35.654 +03:00 [INF] Property Email : admin@test.com
2026-01-09 22:00:35.654 +03:00 [INF] Property Password : Password123!
2026-01-09 22:00:35.655 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 22:00:35.657 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTg3MDM1LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.fm8UbwhaamEiWHEtj07T6aXNbLvFtrGJ3CfIPGMwfro, RefreshToken = MJNE31IFQKgPgcfj36P6yJ4POjYrKnZx8sAPyrLVGmFumI7RCtCRPF/lp0X/cI3KCweW1lMe/iki97vRFPAiBg== } in 2 ms
2026-01-09 22:00:35.657 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.5017ms.
2026-01-09 22:00:35.657 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 22:00:35.657 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 2.8295ms
2026-01-09 22:00:35.657 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 22:00:35.657 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 7.2609ms
2026-01-09 22:00:36.586 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 22:00:36.586 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 22:00:36.587 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 22:00:36.588 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 22:00:36.592 +03:00 [INF] The token request was successfully validated.
2026-01-09 22:00:36.593 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 22:00:36.593 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 22:00:36.593 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 22:00:36.594 +03:00 [INF] Handling LoginUserCommand
2026-01-09 22:00:36.594 +03:00 [INF] Property Email : admin@test.com
2026-01-09 22:00:36.594 +03:00 [INF] Property Password : Password123!
2026-01-09 22:00:36.594 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 22:00:36.598 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTg3MDM2LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.CWJB_MxaKptt7leod8r8Snq_H_zkYYzwLJ02KG2tvn4, RefreshToken = xS7X3Pir+gC9qpBLMoLMHF5o/+Y5nQT7epcAIV1IWvquJe/0JWCXEaxTdJAInvI2q4nNR+uFAFpEKqIUPEmsAA== } in 4 ms
2026-01-09 22:00:36.598 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.6012ms.
2026-01-09 22:00:36.598 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 22:00:36.600 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 6.4915ms
2026-01-09 22:00:36.600 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 22:00:36.600 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 499 null application/json; charset=utf-8 14.0929ms
2026-01-09 22:00:38.681 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 22:00:38.682 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 22:00:38.682 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 22:00:38.683 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 22:00:38.683 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 22:00:38.683 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 1.8253ms
2026-01-09 22:00:39.307 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 22:00:39.308 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 22:00:39.308 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 22:00:39.308 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 22:00:39.308 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 22:00:39.308 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 1.5787ms
2026-01-09 22:01:27.965 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 22:01:27.967 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 22:01:27.967 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 22:01:27.968 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 22:01:27.968 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 22:01:27.968 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 3.0377ms
2026-01-09 22:01:29.728 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 22:01:29.734 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 22:01:29.734 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 22:01:29.737 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 22:01:29.740 +03:00 [INF] The token request was successfully validated.
2026-01-09 22:01:29.740 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 22:01:29.746 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 22:01:29.747 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 22:01:29.747 +03:00 [INF] Handling LoginUserCommand
2026-01-09 22:01:29.747 +03:00 [INF] Property Email : admin@test.com
2026-01-09 22:01:29.747 +03:00 [INF] Property Password : Password123!
2026-01-09 22:01:29.747 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 22:01:29.752 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTg3MDg5LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.4P6jBsSwrY1M8Oni5OUQcoqlrzk4mbUXyZKz2E8x9dk, RefreshToken = aAGTjmmJmWLiig4XWdN1LV+iiaMhrE6mNitdacVUqgADRg8So46EyIXEkr/oGv5OsuzCJt039L+S7VtjfcDZeA== } in 4 ms
2026-01-09 22:01:29.752 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.321ms.
2026-01-09 22:01:29.752 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 22:01:29.753 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 6.8098ms
2026-01-09 22:01:29.753 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 22:01:29.753 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 25.1369ms
2026-01-09 22:01:31.731 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 22:01:31.732 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 22:01:31.733 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 22:01:31.733 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 22:01:31.733 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 22:01:31.733 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 1.6813ms
2026-01-09 22:01:32.602 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 22:01:32.603 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 22:01:32.603 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 22:01:32.604 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 22:01:32.604 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 22:01:32.604 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 1.92ms
2026-01-09 22:02:36.384 +03:00 [INF] Application is shutting down...
2026-01-09 22:02:43.695 +03:00 [INF] Applying database migrations...
2026-01-09 22:02:44.100 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-09 22:02:44.119 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2026-01-09 22:02:44.123 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2026-01-09 19:02:44.122579+00:00');
SELECT changes();
2026-01-09 22:02:44.150 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2026-01-09 22:02:44.156 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2026-01-09 22:02:44.158 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-09 22:02:44.161 +03:00 [INF] No migrations were applied. The database is already up to date.
2026-01-09 22:02:44.162 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2026-01-09 22:02:44.163 +03:00 [INF] Database migrations applied successfully
2026-01-09 22:02:44.164 +03:00 [INF] Seeding database...
2026-01-09 22:02:44.275 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2026-01-09 22:02:44.279 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2026-01-09 22:02:44.280 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Clients" AS "c")
2026-01-09 22:02:44.282 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Scopes" AS "s")
2026-01-09 22:02:44.283 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS "r")
2026-01-09 22:02:44.326 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@name='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConcurrencyToken", "o"."Description", "o"."Descriptions", "o"."DisplayName", "o"."DisplayNames", "o"."Name", "o"."Properties", "o"."Resources"
FROM "OpenIddictScopes" AS "o"
WHERE "o"."Name" = @name
LIMIT 1
2026-01-09 22:02:44.358 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 22:02:44.376 +03:00 [INF] Database seeded successfully
2026-01-09 22:02:44.382 +03:00 [INF] User profile is available. Using '/Users/fturkyilmaz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2026-01-09 22:02:44.717 +03:00 [INF] Now listening on: https://localhost:57679
2026-01-09 22:02:44.717 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-09 22:02:44.717 +03:00 [INF] Hosting environment: Development
2026-01-09 22:02:44.717 +03:00 [INF] Content root path: /Users/fturkyilmaz/Documents/ShoppingProject/src/ShoppingProject.Web
2026-01-09 22:02:45.801 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 22:02:45.854 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 22:02:45.855 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 22:02:45.861 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 22:02:45.861 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 22:02:45.862 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 61.892ms
2026-01-09 22:02:46.486 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/auth/me - null null
2026-01-09 22:02:46.495 +03:00 [INF] OpenIddict.Validation.AspNetCore was not authenticated. Failure message: An error occurred while authenticating the current request.
2026-01-09 22:02:46.497 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-09 22:02:46.497 +03:00 [INF] The response was successfully returned as a challenge response: {
  "error": "invalid_token",
  "error_description": "The signing key associated to the specified token was not found.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2090"
}.
2026-01-09 22:02:46.498 +03:00 [INF] AuthenticationScheme: OpenIddict.Validation.AspNetCore was challenged.
2026-01-09 22:02:46.498 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/auth/me - 401 0 null 12.4928ms
2026-01-09 22:05:36.343 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 22:05:36.348 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 22:05:36.355 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 22:05:36.399 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 22:05:36.411 +03:00 [INF] The token request was successfully validated.
2026-01-09 22:05:36.417 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 22:05:36.427 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 22:05:36.432 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 22:05:36.438 +03:00 [INF] Handling LoginUserCommand
2026-01-09 22:05:36.438 +03:00 [INF] Property Email : admin@test.com
2026-01-09 22:05:36.439 +03:00 [INF] Property Password : Password123!
2026-01-09 22:05:36.446 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 22:05:36.467 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTg3MzM2LCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.WkGsqOZj9A-9oVFdQhteMa95iA7oDZ44vJRg-L67P2Y, RefreshToken = 5ri0Sw84peNbiYFvMZHso2ViApRylccPBjVzOLPAnldESXV18OhvUU73fROnZBskCpasVgaA3QbqWsmgDtJ6yQ== } in 28 ms
2026-01-09 22:05:36.468 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 34.9657ms.
2026-01-09 22:05:36.469 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 22:05:36.476 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 48.0168ms
2026-01-09 22:05:36.476 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 22:05:36.478 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 134.5097ms
2026-01-09 22:07:50.216 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:57679/auth/token - application/x-www-form-urlencoded 173
2026-01-09 22:07:50.217 +03:00 [INF] The request URI matched a server endpoint: "Token".
2026-01-09 22:07:50.218 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin@test.com",
  "password": "[redacted]",
  "client_id": "shopping-admin",
  "client_secret": "[redacted]",
  "scope": "api openid profile",
  "email": "test@example.com"
}.
2026-01-09 22:07:50.225 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@identifier='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ApplicationType", "o"."ClientId", "o"."ClientSecret", "o"."ClientType", "o"."ConcurrencyToken", "o"."ConsentType", "o"."DisplayName", "o"."DisplayNames", "o"."JsonWebKeySet", "o"."Permissions", "o"."PostLogoutRedirectUris", "o"."Properties", "o"."RedirectUris", "o"."Requirements", "o"."Settings"
FROM "OpenIddictApplications" AS "o"
WHERE "o"."ClientId" = @identifier
LIMIT 1
2026-01-09 22:07:50.229 +03:00 [INF] The token request was successfully validated.
2026-01-09 22:07:50.230 +03:00 [INF] Executing endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 22:07:50.234 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller ShoppingProject.Web.Controllers.AuthorizationController (ShoppingProject.Web).
2026-01-09 22:07:50.234 +03:00 [INF] Executing action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) - Validation state: "Valid"
2026-01-09 22:07:50.235 +03:00 [INF] Handling LoginUserCommand
2026-01-09 22:07:50.235 +03:00 [INF] Property Email : admin@test.com
2026-01-09 22:07:50.235 +03:00 [INF] Property Password : Password123!
2026-01-09 22:07:50.236 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@email='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."CreatedDate", "u"."DisplayName", "u"."Email", "u"."IsActive", "u"."IsDeleted", "u"."PasswordHash", "u"."UpdatedAt", "u"."UpdatedDate", "u"."UserName"
FROM "Users" AS "u"
WHERE "u"."Email" = @email
LIMIT 1
2026-01-09 22:07:50.238 +03:00 [INF] Handled LoginUserCommand with LoginResultDto { UserId = b6bb2f75-82ed-4e92-ad49-a9a272feed38, AccessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImI2YmIyZjc1LTgyZWQtNGU5Mi1hZDQ5LWE5YTI3MmZlZWQzOCIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQHRlc3QuY29tIiwiZXhwIjoxNzY3OTg3NDcwLCJpc3MiOiJTaG9wcGluZ1Byb2plY3QiLCJhdWQiOiJTaG9wcGluZ1Byb2plY3RVc2VycyJ9.nuQA1m9iwTG6Fw5RTYTkk54lD_IBLcZB17aaEGT-kns, RefreshToken = gPB0cbYJcwBWSjId8bgW8zP1P12mQfgxfMAJHF1ViVeqix3DVB6/RNH+kmPn0ataNtqLXHGu7Utql+omljiuQg== } in 2 ms
2026-01-09 22:07:50.238 +03:00 [INF] Executed action method ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.5682ms.
2026-01-09 22:07:50.238 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingProject.UseCases.Users.LoginResultDto'.
2026-01-09 22:07:50.239 +03:00 [INF] Executed action ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web) in 5.0137ms
2026-01-09 22:07:50.239 +03:00 [INF] Executed endpoint 'ShoppingProject.Web.Controllers.AuthorizationController.Token (ShoppingProject.Web)'
2026-01-09 22:07:50.239 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:57679/auth/token - 200 null application/json; charset=utf-8 22.7358ms
